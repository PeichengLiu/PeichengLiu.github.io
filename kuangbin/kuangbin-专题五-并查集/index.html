<!doctypehtml><html lang=en><meta charset=UTF-8><meta content=width=device-width name=viewport><meta media="(prefers-color-scheme: light)" content=#222 name=theme-color><meta media="(prefers-color-scheme: dark)" content=#222 name=theme-color><meta content="Hexo 6.3.0" name=generator><link crossorigin href=https://fonts.geekzu.org rel=preconnect><link crossorigin href=https://fastly.jsdelivr.net rel=preconnect><link href=/images/apple-touch-icon-next.png rel=apple-touch-icon sizes=180x180><link href=/images/favicon-32x32-next.png rel=icon sizes=32x32 type=image/png><link href=/images/favicon-16x16-next.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><style>:root{--body-bg-color:#fff;--content-bg-color:#f5f5f5;--card-bg-color:#f5f5f5;--text-color:#555;--blockquote-color:#666;--link-color:#555;--link-hover-color:#222;--brand-color:#222;--brand-hover-color:#222;--table-row-odd-bg-color:#f9f9f9;--table-row-hover-bg-color:#f5f5f5;--menu-item-bg-color:#ddd;--theme-color:#222;--btn-default-bg:transparent;--btn-default-color:var(--link-color);--btn-default-border-color:var(--link-color);--btn-default-hover-bg:transparent;--btn-default-hover-color:var(--link-hover-color);--btn-default-hover-border-color:var(--link-hover-color);--highlight-background:#f3f3f3;--highlight-foreground:#444;--highlight-gutter-background:#e1e1e1;--highlight-gutter-foreground:#555;color-scheme:light}@media (prefers-color-scheme:dark){:root{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--theme-color:#222;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#1c1b1b;--highlight-foreground:#fff;--highlight-gutter-background:#323131;--highlight-gutter-foreground:#e8e8e8;color-scheme:dark}img{opacity:.75}img:hover{opacity:.9}iframe{color-scheme:light}}html{line-height:1.15;-webkit-text-size-adjust:100%}details,main{display:block}pre{font-size:1em;overflow:auto;padding:10px}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:ButtonText dotted 1px}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}.table-container,textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}summary{display:list-item}[hidden],template{display:none}::selection{background:#262a30;color:#eee}body,html{height:100%}body{margin:0;background:var(--body-bg-color);box-sizing:border-box;color:var(--text-color);font-family:Lato,'PingFang SC','Microsoft YaHei',sans-serif;font-size:1em;line-height:2;min-height:100%;position:relative;transition:padding .2s ease-in-out}h1,h2,h3,h4,h5,h6{font-family:Lato,'PingFang SC','Microsoft YaHei',sans-serif;font-weight:700;line-height:1.5;margin:30px 0 15px}h1{font-size:1.5em}h2{font-size:1.375em}h3{font-size:1.25em}h4{font-size:1.125em}h5{font-size:1em}h6{font-size:.875em}p{margin:0 0 20px}a{background:0 0;border-bottom:1px solid #ccc;color:var(--link-color);cursor:pointer;outline:0;text-decoration:none;overflow-wrap:break-word}a:hover{border-bottom-color:var(--link-hover-color);color:var(--link-hover-color)}embed,iframe,img,video{display:block;margin-left:auto;margin-right:auto;max-width:100%}hr{box-sizing:content-box;overflow:visible;background-image:repeating-linear-gradient(-45deg,#ddd,#ddd 4px,transparent 4px,transparent 8px);border:0}blockquote{border-left:4px solid #ddd;color:var(--blockquote-color);margin:0;padding:0 15px}blockquote cite::before{content:'-';padding:0 5px}dt{font-weight:700}dd{margin:0;padding:0}table{border-collapse:collapse;border-spacing:0;font-size:.875em;margin:0 0 20px;width:100%}tbody tr:nth-of-type(odd){background:var(--table-row-odd-bg-color)}tbody tr:hover{background:var(--table-row-hover-bg-color)}caption,td,th{padding:8px}td,th{border:1px solid #ddd;border-bottom:3px solid #ddd}th{font-weight:700;padding-bottom:10px}td{border-bottom-width:1px}.btn{background:var(--btn-default-bg);border:2px solid var(--btn-default-border-color);border-radius:0;color:var(--btn-default-color);display:inline-block;font-size:.875em;line-height:2;transition:background-color .2s ease-in-out}.btn:hover{background:var(--btn-default-hover-bg);border-color:var(--btn-default-hover-border-color);color:var(--btn-default-hover-color)}.btn+.btn{margin:0 0 8px 8px}.btn .fa-fw{text-align:left;width:1.285714285714286em}.toggle{line-height:0}.toggle .toggle-line{background:#fff;display:block;height:2px;left:0;position:relative;top:0;transition:.4s;width:100%}.toggle .toggle-line:first-child{margin-top:1px}.toggle .toggle-line:not(:first-child){margin-top:4px}.toggle.toggle-arrow :first-child{top:2px;transform:rotate(-45deg);width:50%}.toggle.toggle-arrow :last-child{top:-2px;transform:rotate(45deg);width:50%}.toggle.toggle-close :nth-child(2){opacity:0}.toggle.toggle-close :first-child{top:6px;transform:rotate(-45deg)}.toggle.toggle-close :last-child{top:-6px;transform:rotate(45deg)}/*!
  Theme: Default
  Description: Original highlight.js style
  Author: (c) Ivan Sagalaev <maniac@softwaremaniacs.org>
  Maintainer: @highlightjs/core-team
  Website: https://highlightjs.org/
  License: see project LICENSE
  Touched: 2021
*/pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{background:#f3f3f3;color:#444}.hljs-comment{color:#697070}.hljs-punctuation,.hljs-tag{color:#444a}.hljs-tag .hljs-attr,.hljs-tag .hljs-name{color:#444}.hljs-attribute,.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-name,.hljs-selector-tag{font-weight:700}.hljs-deletion,.hljs-number,.hljs-quote,.hljs-selector-class,.hljs-selector-id,.hljs-string,.hljs-template-tag,.hljs-type{color:#800}.hljs-section,.hljs-title{color:#800;font-weight:700}.hljs-link,.hljs-operator,.hljs-regexp,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-symbol,.hljs-template-variable,.hljs-variable{color:#ab5656}.hljs-literal{color:#695}.hljs-addition,.hljs-built_in,.hljs-bullet,.hljs-code{color:#397300}.hljs-meta{color:#1f7199}.hljs-meta .hljs-string{color:#38a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media (prefers-color-scheme:dark){pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: StackOverflow Dark
  Description: Dark theme as used on stackoverflow.com
  Author: stackoverflow.com
  Maintainer: @Hirse
  Website: https://github.com/StackExchange/Stacks
  License: MIT
  Updated: 2021-05-15

  Updated for @stackoverflow/stacks v0.64.0
  Code Blocks: /blob/v0.64.0/lib/css/components/_stacks-code-blocks.less
  Colors: /blob/v0.64.0/lib/css/exports/_stacks-constants-colors.less
*/.hljs{color:#fff;background:#1c1b1b}.hljs-subst{color:#fff}.hljs-comment{color:#999}.hljs-attr,.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-section,.hljs-selector-tag{color:#88aece}.hljs-attribute{color:#c59bc1}.hljs-name,.hljs-number,.hljs-quote,.hljs-selector-id,.hljs-template-tag,.hljs-type{color:#f08d49}.hljs-selector-class{color:#88aece}.hljs-link,.hljs-regexp,.hljs-selector-attr,.hljs-string,.hljs-symbol,.hljs-template-variable,.hljs-variable{color:#b5bd68}.hljs-meta,.hljs-selector-pseudo{color:#88aece}.hljs-built_in,.hljs-literal,.hljs-title{color:#f08d49}.hljs-bullet,.hljs-code{color:#ccc}.hljs-meta .hljs-string{color:#b5bd68}.hljs-deletion{color:#de7176}.hljs-addition{color:#76c490}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}}.code-container:hover .copy-btn,.highlight:hover .copy-btn{opacity:1}.code-container{position:relative}.copy-btn{color:#333;cursor:pointer;line-height:1.6;opacity:0;padding:2px 6px;position:absolute;transition:opacity .2s ease-in-out;background-color:#eee;background-image:linear-gradient(#fcfcfc,#eee);border:1px solid #d5d5d5;border-radius:3px;font-size:.8125em;right:4px;top:8px}.expand-btn{bottom:0;color:var(--highlight-foreground);cursor:pointer;display:none;left:0;right:0;position:absolute;text-align:center}.fold-cover{background-image:linear-gradient(to top,var(--highlight-background) 0,rgba(0,0,0,0) 100%);bottom:0;display:none;height:50px;left:0;right:0;position:absolute}.highlight-fold{max-height:500px;overflow-y:hidden!important}.highlight-fold .expand-btn,.highlight-fold .fold-cover{display:block}code,figure.highlight,kbd,pre{background:var(--highlight-background);color:var(--highlight-foreground)}figure.highlight,pre{line-height:1.6;margin:0 auto 20px}figure.highlight figcaption,pre .caption,pre figcaption{background:var(--highlight-gutter-background);color:var(--highlight-foreground);display:flow-root;font-size:.875em;line-height:1.2;padding:.5em}figure.highlight figcaption a,pre .caption a,pre figcaption a{color:var(--highlight-foreground);float:right}figure.highlight figcaption a:hover,pre .caption a:hover,pre figcaption a:hover{border-bottom-color:var(--highlight-foreground)}code,pre{font-family:consolas,Menlo,monospace,'PingFang SC','Microsoft YaHei'}code{border-radius:3px;font-size:.875em;padding:2px 4px;overflow-wrap:break-word}kbd{border:2px solid #ccc;border-radius:.2em;box-shadow:.1em .1em .2em rgba(0,0,0,.1);font-family:inherit;padding:.1em .3em;white-space:nowrap}figure.highlight{overflow:auto;position:relative}figure.highlight pre{border:0;margin:0;padding:10px 0}figure.highlight table{border:0;margin:0;width:auto}figure.highlight td{border:0;padding:0}figure.highlight .gutter{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none}figure.highlight .gutter pre{background:var(--highlight-gutter-background);color:var(--highlight-gutter-foreground);padding-left:10px;padding-right:10px;text-align:right}figure.highlight .code pre{padding-left:10px;width:100%}figure.highlight .marked{background:rgba(0,0,0,.3)}pre .caption,pre figcaption{margin-bottom:10px}.gist table{width:auto}.gist table td{border:0}pre code{background:0 0;padding:0;text-shadow:none}.blockquote-center{border-left:0;margin:40px 0;padding:0;position:relative;text-align:center}.blockquote-center::after,.blockquote-center::before{left:0;line-height:1;opacity:.6;position:absolute;width:100%}.blockquote-center::before{border-top:1px solid #ccc;text-align:left;top:-20px;content:'\f10d';font-family:'Font Awesome 6 Free';font-weight:900}.blockquote-center::after{border-bottom:1px solid #ccc;bottom:-20px;text-align:right;content:'\f10e';font-family:'Font Awesome 6 Free';font-weight:900}.blockquote-center div,.blockquote-center p{text-align:center}.group-picture{margin-bottom:20px}.group-picture .group-picture-row{display:flex;gap:3px;margin-bottom:3px}.group-picture .group-picture-column{flex:1}.group-picture .group-picture-column img{height:100%;margin:0;object-fit:cover;width:100%}.post-body .label{color:#555;padding:0 2px}.post-body .label.default{background:#f0f0f0}.post-body .label.primary{background:#efe6f7}.post-body .label.info{background:#e5f2f8}.post-body .label.success{background:#e7f4e9}.post-body .label.warning{background:#fcf6e1}.post-body .label.danger{background:#fae8eb}.post-body .link-grid{display:grid;grid-gap:1.5rem;gap:1.5rem;grid-template-columns:1fr 1fr;margin-bottom:20px;padding:1rem}.post-body .link-grid .link-grid-container{border:solid #ddd;box-shadow:1rem 1rem .5rem rgba(0,0,0,.5);min-height:5rem;min-width:0;padding:.5rem;position:relative;transition:background .3s}.post-body .link-grid .link-grid-container:hover{animation:.5s next-shake;background:var(--card-bg-color)}.post-body .link-grid .link-grid-container:active{box-shadow:.5rem .5rem .25rem rgba(0,0,0,.5);transform:translate(.2rem,.2rem)}.post-body .link-grid .link-grid-container .link-grid-image{border:1px solid #ddd;border-radius:50%;box-sizing:border-box;height:5rem;padding:3px;position:absolute;width:5rem}.post-body .link-grid .link-grid-container p{margin:0 1rem 0 6rem}.post-body .link-grid .link-grid-container p:first-of-type{font-size:1.2em}.post-body .link-grid .link-grid-container p:last-of-type{font-size:.8em;line-height:1.3rem;opacity:.7}.post-body .link-grid .link-grid-container a{border:0;height:100%;left:0;position:absolute;top:0;width:100%}@keyframes next-shake{0%{transform:translate(1pt,1pt) rotate(0)}10%{transform:translate(-1pt,-2pt) rotate(-1deg)}20%{transform:translate(-3pt,0) rotate(1deg)}30%{transform:translate(3pt,2pt) rotate(0)}40%{transform:translate(1pt,-1pt) rotate(1deg)}50%{transform:translate(-1pt,2pt) rotate(-1deg)}60%{transform:translate(-3pt,1pt) rotate(0)}70%{transform:translate(3pt,1pt) rotate(-1deg)}80%{transform:translate(-1pt,-1pt) rotate(1deg)}90%{transform:translate(1pt,2pt) rotate(0)}100%{transform:translate(1pt,-2pt) rotate(-1deg)}}.post-body .note{border-radius:3px;margin-bottom:20px;padding:1em;position:relative;border:1px solid #eee;border-left-width:5px}.post-body .note summary{cursor:pointer;outline:0}.post-body .note summary p{display:inline}.post-body .note h2,.post-body .note h3,.post-body .note h4,.post-body .note h5,.post-body .note h6{border-bottom:initial;margin:0;padding-top:0}.post-body .note :first-child{margin-top:0}.post-body .note :last-child{margin-bottom:0}.post-body .note.default{border-left-color:#777}.post-body .note.default h2,.post-body .note.default h3,.post-body .note.default h4,.post-body .note.default h5,.post-body .note.default h6{color:#777}.post-body .note.primary{border-left-color:#6f42c1}.post-body .note.primary h2,.post-body .note.primary h3,.post-body .note.primary h4,.post-body .note.primary h5,.post-body .note.primary h6{color:#6f42c1}.post-body .note.info{border-left-color:#428bca}.post-body .note.info h2,.post-body .note.info h3,.post-body .note.info h4,.post-body .note.info h5,.post-body .note.info h6{color:#428bca}.post-body .note.success{border-left-color:#5cb85c}.post-body .note.success h2,.post-body .note.success h3,.post-body .note.success h4,.post-body .note.success h5,.post-body .note.success h6{color:#5cb85c}.post-body .note.warning{border-left-color:#f0ad4e}.post-body .note.warning h2,.post-body .note.warning h3,.post-body .note.warning h4,.post-body .note.warning h5,.post-body .note.warning h6{color:#f0ad4e}.post-body .note.danger{border-left-color:#d9534f}.post-body .note.danger h2,.post-body .note.danger h3,.post-body .note.danger h4,.post-body .note.danger h5,.post-body .note.danger h6{color:#d9534f}.post-body .tabs{margin-bottom:20px}.post-body .tabs,.tabs-comment{padding-top:10px}.post-body .tabs ul.nav-tabs,.tabs-comment ul.nav-tabs{background:var(--body-bg-color);display:flex;display:flex;flex-wrap:wrap;justify-content:center;margin:0;padding:0;position:-webkit-sticky;position:sticky;top:0;z-index:5}.post-body .tabs ul.nav-tabs li.tab,.tabs-comment ul.nav-tabs li.tab{border-bottom:1px solid #ddd;border-left:1px solid transparent;border-right:1px solid transparent;border-radius:0;border-top:3px solid transparent;flex-grow:1;list-style-type:none}@media (max-width:413px){.post-body .tabs ul.nav-tabs,.tabs-comment ul.nav-tabs{display:block;margin-bottom:5px}.post-body .tabs ul.nav-tabs li.tab,.tabs-comment ul.nav-tabs li.tab{border-bottom:1px solid transparent;border-left:3px solid transparent;border-right:1px solid transparent;border-top:1px solid transparent;border-radius:0}}.post-body .tabs ul.nav-tabs li.tab a,.tabs-comment ul.nav-tabs li.tab a{border-bottom:initial;display:block;line-height:1.8;padding:.25em .75em;text-align:center;transition:.2s ease-out}.post-body .tabs ul.nav-tabs li.tab a i[class^=fa],.tabs-comment ul.nav-tabs li.tab a i[class^=fa]{width:1.285714285714286em}.post-body .tabs ul.nav-tabs li.tab.active,.tabs-comment ul.nav-tabs li.tab.active{border-color:#fc6423 #ddd transparent}@media (max-width:413px){.post-body .tabs ul.nav-tabs li.tab.active,.tabs-comment ul.nav-tabs li.tab.active{border-color:#ddd #ddd #ddd #fc6423}}.post-body .tabs ul.nav-tabs li.tab.active a,.tabs-comment ul.nav-tabs li.tab.active a{cursor:default}.post-body .tabs .tab-content,.tabs-comment .tab-content{border:1px solid #ddd;border-radius:0;border-top-color:transparent}@media (max-width:413px){.post-body .tabs .tab-content,.tabs-comment .tab-content{border-radius:0;border-top-color:#ddd}}.post-body .tabs .tab-content .tab-pane,.tabs-comment .tab-content .tab-pane{padding:20px 20px 0}.post-body .tabs .tab-content .tab-pane:not(.active),.tabs-comment .tab-content .tab-pane:not(.active){display:none}.pagination .next,.pagination .page-number,.pagination .prev,.pagination .space{display:inline-block;margin:-1px 10px 0;padding:0 10px}.pagination .page-number.current{background:#ccc;border-color:#ccc;color:var(--content-bg-color)}.pagination{border-top:1px solid #eee;margin:120px 0 0;text-align:left}.pagination .next,.pagination .page-number,.pagination .prev{border-bottom:0;border-top:1px solid #eee;transition:border-color .2s ease-in-out}.pagination .next:hover,.pagination .page-number:hover,.pagination .prev:hover{border-top-color:var(--link-hover-color)}@media (max-width:767px){.post-body .link-grid{grid-template-columns:1fr}.pagination .next,.pagination .page-number,.pagination .prev,.pagination .space{margin:0 5px}.pagination{border-top:0}.pagination .next,.pagination .page-number,.pagination .prev{border-bottom:1px solid #eee;border-top:0}.pagination .next:hover,.pagination .page-number:hover,.pagination .prev:hover{border-bottom-color:var(--link-hover-color)}.site-meta{text-align:center}}.pagination .space{margin:0;padding:0}.comments{margin-top:60px;overflow:hidden}.comment-button-group{display:flex;display:flex;flex-wrap:wrap;justify-content:center;justify-content:center;margin:1em 0}.comment-button-group .comment-button{margin:.1em .2em}.comment-button-group .comment-button.active{background:var(--btn-default-hover-bg);border-color:var(--btn-default-hover-border-color);color:var(--btn-default-hover-color)}.comment-position{display:none}.comment-position.active{display:block}.tabs-comment{margin-top:4em;padding-top:0}.tabs-comment .comments{margin-top:0;padding-top:0}.headband{background:var(--theme-color);height:3px}@media (max-width:991px){.headband{display:none}}.site-brand-container{display:flex;flex-shrink:0;padding:0 10px}.use-motion .column,.use-motion .site-brand-container .toggle{opacity:0}.site-meta{flex-grow:1;text-align:center}.custom-logo-image{margin-top:20px}@media (max-width:991px){.custom-logo-image{display:none}}.brand{border-bottom:0;color:var(--brand-color);display:inline-block;padding:2px 1px}.brand:hover{color:var(--brand-hover-color)}.site-title{font-family:Lato,'PingFang SC','Microsoft YaHei',sans-serif;font-size:1.375em;font-weight:400;line-height:1.5;margin:0}.site-subtitle{color:#999;font-size:.8125em;margin:10px 0}.use-motion .custom-logo-image,.use-motion .site-subtitle,.use-motion .site-title{opacity:0;position:relative;top:-10px}.site-nav-right,.site-nav-toggle{display:none}.site-nav-right .toggle,.site-nav-toggle .toggle{color:var(--text-color);padding:10px;width:22px}.site-nav-right .toggle .toggle-line,.site-nav-toggle .toggle .toggle-line{background:var(--text-color);border-radius:1px}@media (max-width:767px){.site-nav-right,.site-nav-toggle{display:flex;flex-direction:column;justify-content:center}.site-nav{--scroll-height:0;height:0;overflow:hidden;transition:height .2s ease-in-out,visibility .2s ease-in-out;visibility:hidden}body:not(.site-nav-on) .site-nav .animated{animation:none}body.site-nav-on .site-nav{height:var(--scroll-height);visibility:unset}}.menu{margin:0;text-align:center}.menu-item{display:inline-block;list-style:none;margin:0 10px}@media (max-width:767px){.menu-item{display:block;margin-top:10px}.menu-item.menu-item-search{display:none}}.menu-item a{border-bottom:0;display:block;font-size:.8125em;transition:border-color .2s ease-in-out}.menu-item a.menu-item-active,.menu-item a:hover{background:var(--menu-item-bg-color)}.menu-item i[class^=fa]{margin-right:8px}.menu-item .badge{display:inline-block;font-weight:700;line-height:1;margin-left:.35em;margin-top:.35em;text-align:center;white-space:nowrap}.use-motion .menu-item{visibility:hidden}.sidebar-inner{color:#999;padding:18px 10px;text-align:center;display:flex;flex-direction:column;justify-content:center}.cc-license .cc-opacity{border-bottom:0;opacity:.7}.cc-license .cc-opacity:hover{opacity:.9}.cc-license img{display:inline-block}.site-author-image{border:2px solid #333;max-width:96px;padding:2px}.site-author-name{color:#f5f5f5;font-weight:400;margin:5px 0 0}.site-description{color:#999;font-size:1em;margin-top:5px}.links-of-author a{font-size:.8125em}.links-of-author i[class^=fa]{margin-right:2px}.sidebar .sidebar-button:not(:first-child){margin-top:15px}.sidebar .sidebar-button button{background:0 0;color:#fc6423;cursor:pointer;line-height:2;padding:0 15px;border:1px solid #fc6423;border-radius:4px}.sidebar .sidebar-button button:hover{background:#fc6423;color:#fff}.sidebar .sidebar-button button i[class^=fa]{margin-right:5px}.links-of-blogroll{font-size:.8125em}.links-of-blogroll-title{font-size:.875em;font-weight:600}.links-of-blogroll-list{list-style:none;margin:0;padding:0}.sidebar-nav{font-size:.875em;height:0;margin:0;overflow:hidden;padding-left:0;pointer-events:none;transition:height .2s ease-in-out,visibility .2s ease-in-out;visibility:hidden}.sidebar-nav-active .sidebar-nav{height:calc(2em + 1px);pointer-events:unset;visibility:unset}.sidebar-nav li{border-bottom:1px solid transparent;color:#666;cursor:pointer;display:inline-block;transition:border-bottom-color .2s ease-in-out,color .2s ease-in-out}.sidebar-nav li.sidebar-nav-overview{margin-left:10px}.sidebar-nav li:hover{color:#f5f5f5}.sidebar-overview-active .sidebar-nav-overview,.sidebar-toc-active .sidebar-nav-toc{border-bottom-color:#87daff;color:#87daff;transition-delay:0.2s}.sidebar-overview-active .sidebar-nav-overview:hover,.sidebar-toc-active .sidebar-nav-toc:hover{color:#87daff}.sidebar-panel-container{align-items:start;display:grid;flex:1;overflow-x:hidden;overflow-y:auto;padding-top:0;transition:padding-top .2s ease-in-out}.sidebar-nav-active .sidebar-panel-container{padding-top:20px}.sidebar-panel{animation:.2s ease-in-out deactivate-sidebar-panel;grid-area:1/1;height:0;opacity:0;overflow:hidden;pointer-events:none;transform:translateY(0);transition:.2s ease-in-out;transition-property:opacity,transform,visibility;visibility:hidden}.sidebar-nav-active .sidebar-panel,.sidebar-overview-active .sidebar-panel.post-toc-wrap{transform:translateY(-20px)}.sidebar-overview-active:not(.sidebar-nav-active) .sidebar-panel.post-toc-wrap{transition-delay:0s,0.2s,0s}.sidebar-overview-active .sidebar-panel.site-overview-wrap,.sidebar-toc-active .sidebar-panel.post-toc-wrap{animation-name:activate-sidebar-panel;height:auto;opacity:1;pointer-events:unset;transform:translateY(0);transition-delay:0.2s,0.2s,0s;visibility:unset}.sidebar-panel.site-overview-wrap{display:flex;flex-direction:column;justify-content:center;gap:10px;justify-content:flex-start}@keyframes deactivate-sidebar-panel{from{height:var(--inactive-panel-height,0)}to{height:var(--active-panel-height,0)}}@keyframes activate-sidebar-panel{from{height:var(--inactive-panel-height,auto)}to{height:var(--active-panel-height,auto)}}.sidebar-toggle{bottom:61px;height:16px;padding:5px;width:16px;background:#222;cursor:pointer;opacity:.8;position:fixed;z-index:30;right:30px}.sidebar-toggle:hover{opacity:1}@media (max-width:991px){.sidebar-toggle{right:20px;opacity:1}}.sidebar-toggle:hover .toggle-line{background:#87daff}@media (any-hover:hover){body:not(.sidebar-active) .sidebar-toggle:hover :first-child{top:2px;transform:rotate(-45deg);width:50%}body:not(.sidebar-active) .sidebar-toggle:hover :last-child{top:-2px;transform:rotate(45deg);width:50%}}.sidebar-active .sidebar-toggle :nth-child(2){opacity:0}.sidebar-active .sidebar-toggle :first-child{top:6px;transform:rotate(-45deg)}.sidebar-active .sidebar-toggle :last-child{top:-6px;transform:rotate(45deg)}.post-toc{font-size:.875em}.post-toc ol{list-style:none;margin:0;padding:0 2px 0 10px;text-align:left}.post-toc ol>:last-child{margin-bottom:5px}.post-toc ol>ol{padding-left:0}.post-toc ol a{transition:.2s ease-in-out}.post-toc .nav-item{line-height:1.8;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.post-toc .nav .nav-child{--height:0;height:0;opacity:0;overflow:hidden;transition:.2s ease-in-out;visibility:hidden}.post-toc .nav .active>.nav-child{height:var(--height,auto);opacity:1;visibility:unset}.post-toc .nav .active>a{border-bottom-color:#87daff;color:#87daff}.post-toc .nav .active-current>a,.post-toc .nav .active-current>a:hover{color:#87daff}.site-state{display:flex;flex-wrap:wrap;justify-content:center;line-height:1.4}.site-state-item{padding:0 15px}.site-state-item a{border-bottom:0;display:block}.site-state-item-count{display:block;font-size:1.25em;font-weight:600}.site-state-item-name{color:inherit;font-size:.875em}.footer{color:#999;font-size:.875em;transition:left .2s ease-in-out,right .2s ease-in-out}.footer.footer-fixed{bottom:0;left:0;position:absolute;right:0}.footer-inner{box-sizing:border-box;text-align:left;display:flex;flex-direction:column;justify-content:center;margin:0 auto;width:700px}@media (max-width:767px){.menu-item .badge{float:right;margin-left:0}.footer-inner{width:auto}}@media (min-width:1200px){.footer-inner{width:800px}}@media (min-width:1600px){.footer-inner{width:900px}}.use-motion .footer{opacity:0}.languages{display:inline-block;font-size:1.125em;position:relative}.languages .lang-select-label span{margin:0 .5em}.languages .lang-select{height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}.with-love{color:red;display:inline-block;margin:0 5px;animation:1.33s ease-in-out infinite icon-animate}@keyframes icon-animate{0%,100%{transform:scale(1)}10%,30%{transform:scale(.9)}20%,40%,50%,60%,70%,80%{transform:scale(1.1)}}@media (max-width:567px){.main-inner{padding:initial!important}.posts-expand .post-header{margin-bottom:10px!important}.post-block{margin-top:initial!important;padding:8px 18px!important}.post-body h1,.post-body h2,.post-body h3,.post-body h4,.post-body h5,.post-body h6{margin:20px 0 8px}.post-body .note h1,.post-body .note h2,.post-body .note h3,.post-body .note h4,.post-body .note h5,.post-body .note h6,.post-body .tabs .tab-content .tab-pane h1,.post-body .tabs .tab-content .tab-pane h2,.post-body .tabs .tab-content .tab-pane h3,.post-body .tabs .tab-content .tab-pane h4,.post-body .tabs .tab-content .tab-pane h5,.post-body .tabs .tab-content .tab-pane h6{margin:0 5px}.post-body>p{margin:0 0 10px}.post-body .note>p,.post-body .tabs .tab-content .tab-pane>p{padding:0 5px}.post-body img,.post-body video{margin-bottom:10px!important}.post-body .fancybox+figcaption,.post-body img+figcaption{margin:-5px auto 15px!important}.post-body .note{margin-bottom:10px!important;padding:10px!important}.post-body .tabs .tab-content .tab-pane{padding:10px 10px 0!important}.post-eof{margin:40px auto 20px!important}.pagination{margin-top:40px}}.back-to-top{font-size:12px;align-items:center;bottom:-100px;color:#fff;display:flex;height:26px;transition:bottom .2s ease-in-out;background:#222;cursor:pointer;opacity:.8;position:fixed;z-index:30;right:30px}.back-to-top span{margin-right:8px;display:none}.back-to-top .fa{text-align:center;width:26px}.back-to-top:hover{opacity:1;color:#87daff}.back-to-top.back-to-top-on{bottom:30px}.rtl.post-body a,.rtl.post-body h1,.rtl.post-body h2,.rtl.post-body h3,.rtl.post-body h4,.rtl.post-body h5,.rtl.post-body h6,.rtl.post-body li,.rtl.post-body ol,.rtl.post-body p,.rtl.post-body ul{direction:rtl;font-family:UKIJ Ekran}.rtl.post-title{font-family:UKIJ Ekran}.post-button{text-align:left}.use-motion .collection-header,.use-motion .comments,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{visibility:hidden}.posts-collapse .post-content{margin-bottom:35px;margin-left:35px;position:relative}@media (max-width:767px){.posts-collapse .post-content{margin-left:0;margin-right:0}}.posts-collapse .post-content .collection-title{font-size:1.125em;position:relative}.posts-collapse .post-content .collection-title::before{background:#999;border:1px solid #fff;margin-left:-6px;margin-top:-4px;position:absolute;top:50%;border-radius:50%;content:' ';height:10px;width:10px}.posts-collapse .post-content .collection-year{font-size:1.5em;font-weight:700;margin:60px 0;position:relative}.posts-collapse .post-content .collection-year::before{background:#bbb;margin-left:-4px;margin-top:-4px;position:absolute;top:50%;border-radius:50%;content:' ';height:8px;width:8px}.posts-collapse .post-content .collection-header{display:block;margin-left:20px}.posts-collapse .post-content .collection-header small{color:#bbb;margin-left:5px}.posts-collapse .post-content .post-header{border-bottom:1px dashed #ccc;margin:30px 2px 0;padding-left:15px;position:relative;transition:border .2s ease-in-out}.posts-collapse .post-content .post-header::before{background:#bbb;border:1px solid #fff;left:-6px;position:absolute;top:.75em;transition:background .2s ease-in-out;border-radius:50%;content:' ';height:6px;width:6px}.posts-collapse .post-content .post-header:hover{border-bottom-color:#666}.posts-collapse .post-content .post-header:hover::before{background:#222}.posts-collapse .post-content .post-meta-container{display:inline;font-size:.75em;margin-right:10px}.posts-collapse .post-content .post-title{display:inline}.posts-collapse .post-content .post-title a{border-bottom:0;color:var(--link-color)}.posts-collapse .post-content::before{background:#f5f5f5;content:' ';height:100%;margin-left:-2px;position:absolute;top:1.25em;width:4px}.post-body{font-family:Lato,'PingFang SC','Microsoft YaHei',sans-serif;overflow-wrap:break-word}@media (min-width:1200px){.post-body{font-size:1.125em}}@media (min-width:992px){.post-body{text-align:justify}}.post-body h1 .header-anchor,.post-body h1 .headerlink,.post-body h2 .header-anchor,.post-body h2 .headerlink,.post-body h3 .header-anchor,.post-body h3 .headerlink,.post-body h4 .header-anchor,.post-body h4 .headerlink,.post-body h5 .header-anchor,.post-body h5 .headerlink,.post-body h6 .header-anchor,.post-body h6 .headerlink{border-bottom-style:none;color:inherit;float:right;font-size:.875em;margin-left:10px;opacity:0}.post-body h1 .header-anchor::before,.post-body h1 .headerlink::before,.post-body h2 .header-anchor::before,.post-body h2 .headerlink::before,.post-body h3 .header-anchor::before,.post-body h3 .headerlink::before,.post-body h4 .header-anchor::before,.post-body h4 .headerlink::before,.post-body h5 .header-anchor::before,.post-body h5 .headerlink::before,.post-body h6 .header-anchor::before,.post-body h6 .headerlink::before{content:'\f0c1';font-family:'Font Awesome 6 Free';font-weight:900}.post-body h1:hover .header-anchor,.post-body h1:hover .headerlink,.post-body h2:hover .header-anchor,.post-body h2:hover .headerlink,.post-body h3:hover .header-anchor,.post-body h3:hover .headerlink,.post-body h4:hover .header-anchor,.post-body h4:hover .headerlink,.post-body h5:hover .header-anchor,.post-body h5:hover .headerlink,.post-body h6:hover .header-anchor,.post-body h6:hover .headerlink{opacity:.5}.post-body h1:hover .header-anchor:hover,.post-body h1:hover .headerlink:hover,.post-body h2:hover .header-anchor:hover,.post-body h2:hover .headerlink:hover,.post-body h3:hover .header-anchor:hover,.post-body h3:hover .headerlink:hover,.post-body h4:hover .header-anchor:hover,.post-body h4:hover .headerlink:hover,.post-body h5:hover .header-anchor:hover,.post-body h5:hover .headerlink:hover,.post-body h6:hover .header-anchor:hover,.post-body h6:hover .headerlink:hover{opacity:1}.post-body .exturl .fa{font-size:.875em;margin-left:4px}.post-body .fancybox+figcaption,.post-body img+figcaption{color:#999;font-size:.875em;font-weight:700;line-height:1;margin:-15px auto 15px;text-align:center}.post-body embed,.post-body iframe,.post-body img,.post-body video{margin-bottom:20px}.post-body .video-container{height:0;margin-bottom:20px;overflow:hidden;padding-top:75%;position:relative;width:100%}.post-body .video-container embed,.post-body .video-container iframe,.post-body .video-container object{height:100%;left:0;margin:0;position:absolute;top:0;width:100%}.post-gallery{display:flex;min-height:200px}.post-gallery .post-gallery-image{flex:1}.post-gallery .post-gallery-image:not(:first-child){clip-path:polygon(40px 0,100% 0,100% 100%,0 100%);margin-left:-20px}.post-gallery .post-gallery-image:not(:last-child){margin-right:-20px}.post-gallery .post-gallery-image img{height:100%;object-fit:cover;opacity:1;width:100%}.posts-expand .post-gallery{margin-bottom:60px}.posts-collapse .post-gallery{margin:15px 0}.posts-expand .post-header{font-size:1.125em;text-align:center}.posts-expand .post-title{font-size:1.5em;font-weight:400;margin:initial;overflow-wrap:break-word}.posts-expand .post-title-link{border-bottom:0;color:var(--link-color);display:inline-block;position:relative}.posts-expand .post-title-link::before{background:var(--link-color);bottom:0;content:'';height:2px;left:0;position:absolute;transform:scaleX(0);transition:transform .2s ease-in-out;width:100%}.posts-expand .post-title-link:hover::before{transform:scaleX(1)}.posts-expand .post-title-link .fa{font-size:.875em;margin-left:5px}.post-sticky-flag{display:inline-block;margin-right:8px;transform:rotate(30deg)}.posts-expand .post-meta-container{color:#999;font-family:Lato,'PingFang SC','Microsoft YaHei',sans-serif;font-size:.75em;margin-top:3px}.posts-expand .post-meta-container .post-description{font-size:.875em;margin-top:2px}.posts-expand .post-meta-container time{border-bottom:1px dashed #999}.post-meta{display:flex;flex-wrap:wrap;justify-content:center}:not(.post-meta-break)+.post-meta-item::before{content:'|';margin:0 .5em}.post-meta-item-icon{margin-right:3px}@media (max-width:991px){.back-to-top{right:20px;opacity:1}.post-body{text-align:justify}.post-meta-item-text{display:none}}.post-meta-break{flex-basis:100%;height:0}.post-nav{border-top:1px solid #eee;display:flex;gap:30px;justify-content:space-between;margin-top:1em;padding:10px 5px 0}.post-nav-item{flex:1}.post-nav-item a{border-bottom:0;display:block;font-size:.875em;line-height:1.6}.post-nav-item a:active{top:2px}.post-nav-item .fa{font-size:.75em}.post-nav-item:first-child .fa{margin-right:5px}.post-nav-item:last-child{text-align:right}.post-nav-item:last-child .fa{margin-left:5px}.post-footer{display:flex;flex-direction:column;justify-content:center}.post-eof{background:#ccc;height:1px;margin:80px auto 60px;width:8%}.post-block:last-of-type .post-eof{display:none}.post-tags{margin-top:40px;text-align:left}.post-tags a{display:inline-block;font-size:.8125em}.post-tags a:not(:last-child){margin-right:10px}.social-like{border-top:1px solid #eee;font-size:.875em;margin-top:1em;padding-top:1em;display:flex;flex-wrap:wrap;justify-content:center}.social-like a{border-bottom:none}.reward-container{margin:1em 0 0;padding:1em 0;text-align:center}.reward-container button{background:0 0;color:#87daff;cursor:pointer;line-height:2;padding:0 15px;border:2px solid #87daff;border-radius:2px;outline:0;transition:.2s ease-in-out;vertical-align:text-top}.reward-container button:hover{background:#87daff;color:#fff}.post-reward{display:none;padding-top:20px}.post-reward.active{display:block}.post-reward div{display:inline-block}.post-reward div span{display:block}.post-reward img{display:inline-block;margin:.8em 2em 0;max-width:100%;width:180px}@keyframes next-roll{from{transform:rotateZ(30deg)}to{transform:rotateZ(-30deg)}}.category-all-page .category-all-title{text-align:center}.category-all-page .category-all{margin-top:20px}.category-all-page .category-list{list-style:none;margin:0;padding:0}.category-all-page .category-list-item{margin:5px 10px}.category-all-page .category-list-count{color:#bbb}.category-all-page .category-list-count::before{content:' ('}.category-all-page .category-list-count::after{content:') '}.category-all-page .category-list-child{padding-left:10px}.event-list hr{background:#222;margin:20px 0 45px}.event-list hr::after{background:#222;color:#fff;content:'NOW';display:inline-block;font-weight:700;padding:0 5px}.event-list .event{--event-background:#222;--event-foreground:#bbb;--event-title:#fff;background:var(--event-background);padding:15px}.event-list .event .event-summary{border-bottom:0;color:var(--event-title);margin:0;padding:0 0 0 35px;position:relative}.event-list .event .event-summary::before{animation:1s ease-in-out infinite alternate dot-flash;background:var(--event-title);left:0;margin-top:-6px;position:absolute;top:50%;border-radius:50%;content:' ';height:12px;width:12px}.event-list .event:nth-of-type(odd) .event-summary::before{animation-delay:.5s}.event-list .event:not(:last-child){margin-bottom:20px}.event-list .event .event-relative-time{color:var(--event-foreground);display:inline-block;font-size:12px;font-weight:400;padding-left:12px}.event-list .event .event-details{color:var(--event-foreground);display:block;line-height:18px;padding:6px 0 6px 35px}.event-list .event .event-details::before{color:var(--event-foreground);display:inline-block;margin-right:9px;width:14px;font-family:'Font Awesome 6 Free';font-weight:900}.event-list .event .event-details.event-location::before{content:'\f041'}.event-list .event .event-details.event-duration::before{content:'\f017'}.event-list .event .event-details.event-description::before{content:'\f024'}.event-list .event-past{--event-background:#f5f5f5;--event-foreground:#999;--event-title:#222}@keyframes dot-flash{from{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}ul.breadcrumb{font-size:.75em;list-style:none;margin:1em 0;padding:0 2em;text-align:center}ul.breadcrumb li{display:inline}ul.breadcrumb li:not(:first-child)::before{content:'/\00a0';font-weight:400;padding:.5em}ul.breadcrumb li:last-child{font-weight:700}.tag-cloud{text-align:center}.tag-cloud a{display:inline-block;margin:10px}.tag-cloud-0{border-bottom-color:#aaa;color:#aaa}.tag-cloud-1{border-bottom-color:#9a9a9a;color:#9a9a9a}.tag-cloud-2{border-bottom-color:#8b8b8b;color:#8b8b8b}.tag-cloud-3{border-bottom-color:#7c7c7c;color:#7c7c7c}.tag-cloud-4{border-bottom-color:#6c6c6c;color:#6c6c6c}.tag-cloud-5{border-bottom-color:#5d5d5d;color:#5d5d5d}.tag-cloud-6{border-bottom-color:#4e4e4e;color:#4e4e4e}.tag-cloud-7{border-bottom-color:#3e3e3e;color:#3e3e3e}.tag-cloud-8{border-bottom-color:#2f2f2f;color:#2f2f2f}.tag-cloud-9{border-bottom-color:#202020;color:#202020}.tag-cloud-10{border-bottom-color:#111;color:#111}.giscus{max-width:unset;box-sizing:border-box}.search-active{overflow:hidden}.search-pop-overlay{background:rgba(0,0,0,0);display:flex;height:100%;left:0;position:fixed;top:0;transition:visibility .4s,background .4s;visibility:hidden;width:100%;z-index:40}.search-active .search-pop-overlay{background:rgba(0,0,0,.3);visibility:visible}.search-popup{background:var(--card-bg-color);border-radius:5px;height:80%;margin:auto;transform:scale(0);transition:transform .4s;width:700px}.search-active .search-popup{transform:scale(1)}@media (max-width:767px){.search-popup{border-radius:0;height:100%;width:100%}.pagination{margin:80px 0 0;text-align:center}}.search-popup .popup-btn-close,.search-popup .search-icon{color:#999;font-size:18px;padding:0 10px}.search-popup .popup-btn-close{cursor:pointer}.search-popup .popup-btn-close:hover .fa{color:#222}.search-popup .search-header{background:#eee;border-top-left-radius:5px;border-top-right-radius:5px;display:flex;padding:5px}@media (prefers-color-scheme:dark){.tag-cloud-0{border-bottom-color:#555;color:#555}.tag-cloud-1{border-bottom-color:#646464;color:#646464}.tag-cloud-2{border-bottom-color:#737373;color:#737373}.tag-cloud-3{border-bottom-color:#828282;color:#828282}.tag-cloud-4{border-bottom-color:#929292;color:#929292}.tag-cloud-5{border-bottom-color:#a1a1a1;color:#a1a1a1}.tag-cloud-6{border-bottom-color:#b0b0b0;color:#b0b0b0}.tag-cloud-7{border-bottom-color:silver;color:silver}.tag-cloud-8{border-bottom-color:#cfcfcf;color:#cfcfcf}.tag-cloud-9{border-bottom-color:#dedede;color:#dedede}.tag-cloud-10{border-bottom-color:#eee;color:#eee}.search-popup .search-header{background:#666}}.search-popup input.search-input{background:0 0;border:0;outline:0;width:100%}.search-popup input.search-input::-webkit-search-cancel-button{display:none}.search-popup .search-result-container{height:calc(100% - 55px);overflow:auto;padding:5px 25px}.search-popup .search-result-container hr{margin:5px 0 10px}.search-popup .search-result-container hr:first-child{display:none}.search-popup .search-result-list{margin:0 5px;padding:0;width:100%}.search-popup a.search-result-title{font-weight:700}.search-popup p.search-result{border-bottom:1px dashed #ccc;padding:5px 0}.search-popup .search-input-container{flex-grow:1;padding:2px}.search-popup .no-result{display:flex}.search-popup .search-result-icon{color:#ccc;margin:auto}mark.search-keyword{background:0 0;border-bottom:1px dashed #ff2a2a;color:#ff2a2a;font-weight:700}.use-motion .animated{animation-fill-mode:none;visibility:inherit}.use-motion .sidebar .animated{animation-fill-mode:both}hr{height:2px;margin:20px 0}.btn{padding:0 10px}.headband{display:none}.footer{background:var(--content-bg-color);color:var(--text-color);padding:10px 0}.column{background:var(--content-bg-color)}header.header{align-items:center;display:flex;padding:20px 0;margin:0 auto;width:700px}.site-meta{line-height:normal}.site-meta .site-title{font-weight:bolder}.logo-line{background:var(--brand-color);display:block;height:2px;margin:0 auto;width:75%}.use-motion .logo-line:first-of-type{transform:scaleX(0);transform-origin:left}.use-motion .logo-line:last-of-type{transform:scaleX(0);transform-origin:right}.site-subtitle{display:none}.site-nav{flex-grow:1}@media (max-width:767px){.footer-inner{text-align:center}header.header{display:block;padding:10px 0}.site-meta .brand{display:block}.logo-line{display:none}.site-nav{padding:0 10px}.main-menu{padding-top:10px}}.menu{padding:0}.menu .menu-item{margin:0}.menu .menu-item a{border-radius:2px;padding:0 10px;transition-property:background}.menu .menu-item .badge{background:#fff;border-radius:10px;color:#555;padding:1px 4px;text-shadow:1px 1px 0 rgba(0,0,0,.1)}.posts-expand.index .post-header{text-align:left}.posts-expand.index .post-meta-container{margin-top:5px}.posts-expand.index .post-meta{justify-content:flex-start}@media (max-width:767px){.menu .menu-item{margin-top:5px}.menu .menu-item a{text-align:left}.posts-expand.index .post-header{text-align:center}.posts-expand.index .post-meta{justify-content:center}header.header{width:auto}}.posts-expand .post-eof{display:none}.posts-expand .post-block:not(:first-of-type){margin-top:120px}.posts-expand .post-header{margin-bottom:20px}.posts-expand .post-tags a{background:var(--content-bg-color);border-bottom:0;padding:1px 5px}.posts-expand .post-tags a:hover{background:var(--menu-item-bg-color)}.posts-expand .post-nav{margin-top:40px}.post-button{margin-top:20px}.post-button .btn{background:0 0;border:0;border-bottom:2px solid var(--btn-default-border-color);padding:0;transition-property:border}.post-button .btn:hover{border-bottom-color:var(--btn-default-hover-border-color)}@media (min-width:1200px){header.header{width:800px}}.main-inner{margin:0 auto;width:700px;padding-bottom:80px}@media (max-width:767px){.main-inner{width:auto;padding-left:20px;padding-right:20px}}@media (min-width:1200px){.main-inner{width:800px}}@media (min-width:1600px){.main-inner,header.header{width:900px}}.post-block:first-of-type{padding-top:80px}@media (max-width:767px){.post-block:first-of-type{padding-top:60px}}@media (min-width:1200px){.sidebar-active{padding-right:320px}.sidebar-active .footer-fixed{right:320px}.sidebar-dimmer{display:none}}.sidebar{right:-320px;background:#222;bottom:0;box-shadow:inset 0 2px 6px #000;max-height:100vh;overflow-y:auto;position:fixed;top:0;transition:.2s ease-out;width:320px;z-index:20}.sidebar-active .sidebar{right:0}.sidebar a{border-bottom-color:#555;color:#999}.sidebar a:hover{border-bottom-color:#eee;color:#eee}.links-of-author:not(:first-child){margin-top:15px}.links-of-author a{border-bottom-color:#555;display:inline-block;margin-bottom:10px;margin-right:10px;vertical-align:middle}.links-of-author a::before{background:#dbff41;display:inline-block;margin-right:3px;transform:translateY(-2px);border-radius:50%;content:' ';height:4px;width:4px}.links-of-blogroll-item{padding:2px 10px}.links-of-blogroll-item a{box-sizing:border-box;display:inline-block;max-width:280px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.popular-posts .popular-posts-item .popular-posts-link:hover{background:0 0}.sidebar-dimmer{background:#000;height:100%;left:0;opacity:0;position:fixed;top:0;transition:visibility .4s,opacity .4s;visibility:hidden;width:100%;z-index:10}.sidebar-active .sidebar-dimmer{opacity:.7;visibility:visible}.sub-menu{margin:10px 0}.sub-menu .menu-item{display:inline-block}</style><link href=https://fonts.geekzu.org/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext rel=stylesheet><link as=style href=https://fastly.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css onload=this.rel='stylesheet' rel=preload><link crossorigin href=https://fastly.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css integrity=sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE= rel=stylesheet><script class=next-config data-name=main type=application/json>{"hostname":"liupeicheng.top","root":"/","images":"/images","scheme":"Mist","darkmode":true,"version":"8.18.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":true,"style":null},"fold":{"enable":true,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src=/js/config.js></script><meta content="题目详单见 [kuangbin带你飞]专题1-23。算法介绍见 并查集 - OI Wiki。 POJ-2236 Wireless Network每修复一台电脑，就尝试连接其他已修复的电脑，使用并查集维护连通关系。" name=description><meta content=article property=og:type><meta content="kuangbin 专题五 并查集" property=og:title><meta content=https://liupeicheng.top/kuangbin/kuangbin-%E4%B8%93%E9%A2%98%E4%BA%94-%E5%B9%B6%E6%9F%A5%E9%9B%86/index.html property=og:url><meta content="Shawn's Blog" property=og:site_name><meta content="题目详单见 [kuangbin带你飞]专题1-23。算法介绍见 并查集 - OI Wiki。 POJ-2236 Wireless Network每修复一台电脑，就尝试连接其他已修复的电脑，使用并查集维护连通关系。" property=og:description><meta content=en_US property=og:locale><meta content=2023-08-19T16:13:16.000Z property=article:published_time><meta content=2023-09-03T13:46:34.253Z property=article:modified_time><meta content=Shawn property=article:author><meta content=并查集 property=article:tag><meta content=kuangbin property=article:tag><meta content=summary name=twitter:card><link href=https://liupeicheng.top/kuangbin/kuangbin-%E4%B8%93%E9%A2%98%E4%BA%94-%E5%B9%B6%E6%9F%A5%E9%9B%86/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://liupeicheng.top/kuangbin/kuangbin-%E4%B8%93%E9%A2%98%E4%BA%94-%E5%B9%B6%E6%9F%A5%E9%9B%86/","path":"kuangbin/kuangbin-专题五-并查集/","title":"kuangbin 专题五 并查集"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>kuangbin 专题五 并查集 | Shawn's Blog</title><noscript><link href=/css/noscript.css rel=stylesheet></noscript><script src=https://code.bdstatic.com/npm/pjax@0.2.8/pjax.min.js></script><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}</style><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label="Toggle navigation bar" class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <p class=site-title>Shawn's Blog</p> <i class=logo-line></i> </a></div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=Search role=button><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>Home</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>Tags</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>Categories</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>Archives</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>Search </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input maxlength=80 placeholder=Searching... spellcheck=false type=search></div><span class=popup-btn-close role=button> <i class="fa fa-times-circle"></i> </span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>Table of Contents<li class=sidebar-nav-overview>Overview</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-2236-Wireless-Network><span class=nav-number>1.</span> <span class=nav-text>POJ-2236 Wireless Network</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-1611-The-Suspects><span class=nav-number>2.</span> <span class=nav-text>POJ-1611 The Suspects</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#HDU-1213-How-Many-Tables><span class=nav-number>3.</span> <span class=nav-text>HDU-1213 How Many Tables</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#HDU-3038-How-Many-Answers-Are-Wrong><span class=nav-number>4.</span> <span class=nav-text>HDU-3038 How Many Answers Are Wrong</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-1182-%E9%A3%9F%E7%89%A9%E9%93%BE><span class=nav-number>5.</span> <span class=nav-text>POJ-1182 食物链</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-1417-True-Liars><span class=nav-number>6.</span> <span class=nav-text>POJ-1417 True Liars</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-1456-Supermarket><span class=nav-number>7.</span> <span class=nav-text>POJ-1456 Supermarket</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-1733-Parity-game><span class=nav-number>8.</span> <span class=nav-text>POJ-1733 Parity game</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-1984-Navigation-Nightmare><span class=nav-number>9.</span> <span class=nav-text>POJ-1984 Navigation Nightmare</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-2492-A-Bug%E2%80%99s-Life><span class=nav-number>10.</span> <span class=nav-text>POJ-2492 A Bug’s Life</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-2912-Rochambeau><span class=nav-number>11.</span> <span class=nav-text>POJ-2912 Rochambeau</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#ZOJ-3261-Connections-in-Galaxy-War><span class=nav-number>12.</span> <span class=nav-text>ZOJ-3261 Connections in Galaxy War</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#HDU-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB><span class=nav-number>13.</span> <span class=nav-text>HDU-1272 小希的迷宫</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-1308-Is-It-A-Tree><span class=nav-number>14.</span> <span class=nav-text>POJ-1308 Is It A Tree?</span></a></ol></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><p class=site-author-name itemprop=name>Shawn<div class=site-description itemprop=description>若有恒，何必三更眠五更起；最无益，莫过一日曝十日寒。</div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>388</span> <span class=site-state-item-name>posts</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>13</span> <span class=site-state-item-name>categories</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/> <span class=site-state-item-count>112</span> <span class=site-state-item-name>tags</span></a></div></nav></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article lang=en><link href=https://liupeicheng.top/kuangbin/kuangbin-%E4%B8%93%E9%A2%98%E4%BA%94-%E5%B9%B6%E6%9F%A5%E9%9B%86/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=/images/avatar.gif itemprop=image> <meta content=Shawn itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Shawn's Blog" itemprop=name> <meta content=若有恒，何必三更眠五更起；最无益，莫过一日曝十日寒。 itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="kuangbin 专题五 并查集 | Shawn's Blog" itemprop=name> <meta itemprop=description> </span><header class=post-header><h1 itemprop="name headline" class=post-title>kuangbin 专题五 并查集</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>Posted on</span> <time itemprop="dateCreated datePublished" title="Created: 2023-08-19 16:13:16" datetime=2023-08-19T16:13:16+00:00>2023-08-19</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>Edited on</span> <time title="Modified: 2023-09-03 13:46:34" datetime=2023-09-03T13:46:34+00:00 itemprop=dateModified>2023-09-03</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>In</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/kuangbin/ itemprop=url rel=index><span itemprop=name>kuangbin</span></a> </span> </span></div></div></header><div class=post-body itemprop=articleBody><p>题目详单见 <a href=https://vjudge.net/article/187 rel=noopener target=_blank>[kuangbin带你飞]专题1-23</a>。<br>算法介绍见 <a href=https://oi-wiki.org/ds/dsu/ rel=noopener target=_blank>并查集 - OI Wiki</a>。<h3 id=POJ-2236-Wireless-Network><a title="POJ-2236 Wireless Network" class=headerlink href=#POJ-2236-Wireless-Network></a>POJ-2236 Wireless Network</h3><p>每修复一台电脑，就尝试连接其他已修复的电脑，使用并查集维护连通关系。</p><span id=more></span><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcmath></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>1002</span>;</span><br><span class=line><span class=type>int</span> n, x[N], y[N], f[N];</span><br><span class=line><span class=type>double</span> d;</span><br><span class=line><span class=type>bool</span> st[N];</span><br><span class=line><span class=type>char</span> op;</span><br><span class=line><span class=type>int</span> p, q;</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>find</span><span class=params>(<span class=type>int</span> x)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>return</span> f[x] == x ? x : f[x] = <span class=built_in>find</span>(f[x]);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>bool</span> <span class=title>connected</span><span class=params>(<span class=type>int</span> i, <span class=type>int</span> j)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>return</span> <span class=built_in>find</span>(i) == <span class=built_in>find</span>(j);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>connect</span><span class=params>(<span class=type>int</span> i, <span class=type>int</span> j)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    f[<span class=built_in>find</span>(i)] = <span class=built_in>find</span>(j);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>double</span> <span class=title>get_dist</span><span class=params>(<span class=type>int</span> i, <span class=type>int</span> j)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>return</span> <span class=built_in>sqrt</span>(<span class=built_in>pow</span>(x[i] - x[j], <span class=number>2</span>) + <span class=built_in>pow</span>(y[i] - y[j], <span class=number>2</span>));</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    cin >> n >> d;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>    {</span><br><span class=line>        cin >> x[i] >> y[i];</span><br><span class=line>        f[i] = i;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>while</span> (cin >> op)</span><br><span class=line>    {</span><br><span class=line>        <span class=keyword>if</span> (op == <span class=string>'O'</span>)</span><br><span class=line>        {</span><br><span class=line>            cin >> p;</span><br><span class=line>            st[p] = <span class=number>1</span>;</span><br><span class=line>            <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>                <span class=keyword>if</span> (i != p && st[i] && <span class=built_in>get_dist</span>(i, p) <= d)</span><br><span class=line>                    <span class=built_in>connect</span>(i, p);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>else</span></span><br><span class=line>        {</span><br><span class=line>            cin >> p >> q;</span><br><span class=line>            cout << (<span class=built_in>connected</span>(p, q) ? <span class=string>"SUCCESS"</span> : <span class=string>"FAIL"</span>) << endl;</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=POJ-1611-The-Suspects><a title="POJ-1611 The Suspects" class=headerlink href=#POJ-1611-The-Suspects></a>POJ-1611 The Suspects</h3><p>使用并查集维护关系，找出所有与 0 连接的点。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTvector></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>30000</span>;</span><br><span class=line><span class=type>int</span> n, m, k, x, p[N];</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>find</span><span class=params>(<span class=type>int</span> x)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>return</span> p[x] == x ? x : p[x] = <span class=built_in>find</span>(p[x]);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>connect</span><span class=params>(<span class=type>int</span> x, <span class=type>int</span> y)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    p[<span class=built_in>find</span>(x)] = <span class=built_in>find</span>(y);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>while</span> (cin >> n >> m, n)</span><br><span class=line>    {</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < n; ++i)</span><br><span class=line>            p[i] = i;</span><br><span class=line>        <span class=keyword>while</span> (m--)</span><br><span class=line>        {</span><br><span class=line>            cin >> k >> x;</span><br><span class=line>            <span class=type>int</span> px = <span class=built_in>find</span>(x);</span><br><span class=line>            <span class=keyword>while</span> (--k)</span><br><span class=line>            {</span><br><span class=line>                cin >> x;</span><br><span class=line>                <span class=built_in>connect</span>(x, px);</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> ans = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < n; ++i)</span><br><span class=line>            <span class=keyword>if</span> (<span class=built_in>find</span>(i) == <span class=built_in>find</span>(<span class=number>0</span>))</span><br><span class=line>                ++ans;</span><br><span class=line>        cout << ans << endl;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=HDU-1213-How-Many-Tables><a title="HDU-1213 How Many Tables" class=headerlink href=#HDU-1213-How-Many-Tables></a>HDU-1213 How Many Tables</h3><p>使用并查集维护连通关系，统计连通块数目。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>1001</span>;</span><br><span class=line><span class=type>int</span> t, n, m, a, b, p[N];</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>find</span><span class=params>(<span class=type>int</span> x)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>return</span> p[x] == x ? x : p[x] = <span class=built_in>find</span>(p[x]);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>connect</span><span class=params>(<span class=type>int</span> x, <span class=type>int</span> y)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    p[<span class=built_in>find</span>(x)] = <span class=built_in>find</span>(y);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=type>int</span> t;</span><br><span class=line>    cin >> t;</span><br><span class=line>    <span class=keyword>while</span> (t--)</span><br><span class=line>    {</span><br><span class=line>        cin >> n >> m;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>            p[i] = i;</span><br><span class=line>        <span class=keyword>while</span> (m--)</span><br><span class=line>        {</span><br><span class=line>            cin >> a >> b;</span><br><span class=line>            <span class=built_in>connect</span>(a, b);</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> ans = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>            <span class=keyword>if</span> (<span class=built_in>find</span>(i) == i)</span><br><span class=line>                ++ans;</span><br><span class=line>        cout << ans << endl;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=HDU-3038-How-Many-Answers-Are-Wrong><a title="HDU-3038 How Many Answers Are Wrong" class=headerlink href=#HDU-3038-How-Many-Answers-Are-Wrong></a>HDU-3038 How Many Answers Are Wrong</h3><ol><li>权值并查集，维护数量关系，权值表示点到根节点的区间和。<li>题目未提及，但是输入有多组测试用例。</ol><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>200001</span>;</span><br><span class=line><span class=type>int</span> n, m, a, b, s, f[N], d[N], ans;</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>find</span><span class=params>(<span class=type>int</span> p)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>if</span> (f[p] == p)</span><br><span class=line>        <span class=keyword>return</span> p;</span><br><span class=line>    <span class=keyword>else</span></span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> v = <span class=built_in>find</span>(f[p]);</span><br><span class=line>        d[p] += d[f[p]];</span><br><span class=line>        <span class=keyword>return</span> f[p] = v;</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>while</span> (cin >> n >> m)</span><br><span class=line>    {</span><br><span class=line>        ans = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i <= n; ++i)</span><br><span class=line>            f[i] = i, d[i] = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>while</span> (m--)</span><br><span class=line>        {</span><br><span class=line>            cin >> a >> b >> s;</span><br><span class=line>            --a;</span><br><span class=line>            <span class=type>int</span> fa = <span class=built_in>find</span>(a), fb = <span class=built_in>find</span>(b);</span><br><span class=line>            <span class=keyword>if</span> (fa == fb)</span><br><span class=line>            {</span><br><span class=line>                <span class=keyword>if</span> (d[b] - d[a] != s)</span><br><span class=line>                    ++ans;</span><br><span class=line>            }</span><br><span class=line>            <span class=keyword>else</span></span><br><span class=line>            {</span><br><span class=line>                f[fb] = fa;</span><br><span class=line>                d[fb] = s + d[a] - d[b];</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        cout << ans << endl;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=POJ-1182-食物链><a title="POJ-1182 食物链" class=headerlink href=#POJ-1182-食物链></a>POJ-1182 食物链</h3><p>POJ 比较慢，慎用 <code>iostream</code>。<div class=tabs id=poj-1182><ul class=nav-tabs><li class="tab active"><a href=#poj-1182-1>权值并查集</a><li class=tab><a href=#poj-1182-2>拓展域并查集</a></ul><div class=tab-content><div class="tab-pane active" id=poj-1182-1><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>50001</span>;</span><br><span class=line><span class=type>int</span> n, k, t, x, y, p[N], d[N], ans;</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>find</span><span class=params>(<span class=type>int</span> x)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>if</span> (p[x] != x)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> root = <span class=built_in>find</span>(p[x]);</span><br><span class=line>        d[x] = (d[x] + d[p[x]]) % <span class=number>3</span>;</span><br><span class=line>        p[x] = root;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> p[x];</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>join</span><span class=params>(<span class=type>int</span> t, <span class=type>int</span> x, <span class=type>int</span> y)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=type>int</span> px = <span class=built_in>find</span>(x), py = <span class=built_in>find</span>(y);</span><br><span class=line>    <span class=keyword>if</span> (px == py)</span><br><span class=line>    {</span><br><span class=line>        <span class=keyword>if</span> ((d[x] - d[y] + <span class=number>3</span>) % <span class=number>3</span> == t - <span class=number>1</span>)</span><br><span class=line>            <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>return</span> <span class=number>1</span>;</span><br><span class=line>    }</span><br><span class=line>    p[px] = py;</span><br><span class=line>    d[px] = (-d[x] + t - <span class=number>1</span> + d[y] + <span class=number>3</span>) % <span class=number>3</span>;</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &n, &k);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i <= n; ++i)</span><br><span class=line>        p[i] = i, d[i] = <span class=number>0</span>;</span><br><span class=line>    <span class=keyword>while</span> (k--)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &t, &x, &y);</span><br><span class=line>        <span class=keyword>if</span> (x > n || y > n)</span><br><span class=line>            ++ans;</span><br><span class=line>        <span class=keyword>else</span> <span class=keyword>if</span> (x == y && t == <span class=number>2</span>)</span><br><span class=line>            ++ans;</span><br><span class=line>        <span class=keyword>else</span></span><br><span class=line>            ans += <span class=built_in>join</span>(t, x, y);</span><br><span class=line>    }</span><br><span class=line>    <span class=built_in>printf</span>(<span class=string>"%d\n"</span>, ans);</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure></div><div class=tab-pane id=poj-1182-2><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>50001</span>;</span><br><span class=line><span class=type>int</span> n, k, d, x, y, p[N * <span class=number>3</span>], ans;</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>find</span><span class=params>(<span class=type>int</span> x)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>return</span> p[x] == x ? x : p[x] = <span class=built_in>find</span>(p[x]);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>join</span><span class=params>(<span class=type>int</span> x, <span class=type>int</span> y)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    p[<span class=built_in>find</span>(x)] = <span class=built_in>find</span>(y);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &n, &k);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n * <span class=number>3</span>; ++i)</span><br><span class=line>        p[i] = i;</span><br><span class=line>    <span class=keyword>while</span> (k--)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &d, &x, &y);</span><br><span class=line>        <span class=keyword>if</span> (x > n || y > n)</span><br><span class=line>            ++ans;</span><br><span class=line>        <span class=keyword>else</span> <span class=keyword>if</span> (x == y && d == <span class=number>2</span>)</span><br><span class=line>            ++ans;</span><br><span class=line>        <span class=keyword>else</span> <span class=keyword>if</span> (d == <span class=number>1</span>)</span><br><span class=line>        {</span><br><span class=line>            <span class=keyword>if</span> (<span class=built_in>find</span>(x) == <span class=built_in>find</span>(y + n) || <span class=built_in>find</span>(x + n) == <span class=built_in>find</span>(y))</span><br><span class=line>                ++ans;</span><br><span class=line>            <span class=keyword>else</span></span><br><span class=line>                <span class=built_in>join</span>(x, y), <span class=built_in>join</span>(x + n, y + n), <span class=built_in>join</span>(x + n + n, y + n + n);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>else</span></span><br><span class=line>        {</span><br><span class=line>            <span class=keyword>if</span> (<span class=built_in>find</span>(x) == <span class=built_in>find</span>(y) || <span class=built_in>find</span>(x + n) == <span class=built_in>find</span>(y))</span><br><span class=line>                ++ans;</span><br><span class=line>            <span class=keyword>else</span></span><br><span class=line>                <span class=built_in>join</span>(x, y + n), <span class=built_in>join</span>(x + n, y + n + n), <span class=built_in>join</span>(x + n + n, y);</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>    <span class=built_in>printf</span>(<span class=string>"%d\n"</span>, ans);</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure></div></div></div><h3 id=POJ-1417-True-Liars><a title="POJ-1417 True Liars" class=headerlink href=#POJ-1417-True-Liars></a>POJ-1417 True Liars</h3><p>并查集加 01 背包。首先用并查集分组，每一组内只有两类，非此即彼。在此基础上做 01 背包，并记录选择方案，方案数刚好为 1 时得出确定解、唯一解。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>601</span>;</span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>int</span> n, p1, p2, x, y;</span><br><span class=line><span class=type>char</span> a[<span class=number>4</span>];</span><br><span class=line><span class=type>int</span> p[N], d[N], tot, g[N], cnt[N][<span class=number>2</span>];</span><br><span class=line><span class=type>int</span> dp[N][N], path[N][N];</span><br><span class=line><span class=type>bool</span> flag[N][<span class=number>2</span>];</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>find</span><span class=params>(<span class=type>int</span> x)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>if</span> (p[x] != x)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> px = <span class=built_in>find</span>(p[x]);</span><br><span class=line>        d[x] ^= d[p[x]];</span><br><span class=line>        p[x] = px;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> p[x];</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>join</span><span class=params>(<span class=type>int</span> x, <span class=type>int</span> y, <span class=type>int</span> t)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=type>int</span> px = <span class=built_in>find</span>(x), py = <span class=built_in>find</span>(y);</span><br><span class=line>    <span class=keyword>if</span> (px != py)</span><br><span class=line>    {</span><br><span class=line>        p[py] = px;</span><br><span class=line>        d[py] = d[x] ^ d[y] ^ t;</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>(<span class=type>void</span>)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>while</span> (<span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &n, &p1, &p2), n + p1 + p2)</span><br><span class=line>    {</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= p1 + p2; ++i)</span><br><span class=line>            p[i] = i, d[i] = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>while</span> (n--)</span><br><span class=line>        {</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d%d%s"</span>, &x, &y, a);</span><br><span class=line>            <span class=built_in>join</span>(x, y, a[<span class=number>0</span>] == <span class=string>'y'</span> ? <span class=number>0</span> : <span class=number>1</span>);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (p1 == p2) {</span><br><span class=line>            <span class=built_in>printf</span>(<span class=string>"no\n"</span>);</span><br><span class=line>            <span class=keyword>continue</span>;</span><br><span class=line>        }</span><br><span class=line>        <span class=built_in>memset</span>(g, <span class=number>0</span>, <span class=keyword>sizeof</span> g);</span><br><span class=line>        <span class=built_in>memset</span>(cnt, <span class=number>0</span>, <span class=keyword>sizeof</span> cnt);</span><br><span class=line>        <span class=built_in>memset</span>(dp, <span class=number>0</span>, <span class=keyword>sizeof</span> dp);</span><br><span class=line>        <span class=built_in>memset</span>(path, <span class=number>0</span>, <span class=keyword>sizeof</span> path);</span><br><span class=line>        <span class=built_in>memset</span>(flag, <span class=number>0</span>, <span class=keyword>sizeof</span> flag);</span><br><span class=line>        <span class=comment>// count and index connected components.</span></span><br><span class=line>        tot = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= p1 + p2; ++i)</span><br><span class=line>            <span class=keyword>if</span> (<span class=built_in>find</span>(i) == i)</span><br><span class=line>                g[i] = ++tot;</span><br><span class=line>        <span class=comment>// count types of each group.</span></span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= p1 + p2; ++i)</span><br><span class=line>            cnt[g[<span class=built_in>find</span>(i)]][d[i]]++;</span><br><span class=line>        <span class=comment>// count of solutions</span></span><br><span class=line>        <span class=comment>// choosing within [0...i] group to get sum(...) = j.</span></span><br><span class=line>        dp[<span class=number>0</span>][<span class=number>0</span>] = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= tot; ++i)</span><br><span class=line>            <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>0</span>; j <= p1 + p2; ++j)</span><br><span class=line>            {</span><br><span class=line>                <span class=keyword>if</span> (j - cnt[i][<span class=number>0</span>] >= <span class=number>0</span> && dp[i - <span class=number>1</span>][j - cnt[i][<span class=number>0</span>]])</span><br><span class=line>                {</span><br><span class=line>                    dp[i][j] += dp[i - <span class=number>1</span>][j - cnt[i][<span class=number>0</span>]];</span><br><span class=line>                    path[i][j] = cnt[i][<span class=number>0</span>];</span><br><span class=line>                }</span><br><span class=line>                <span class=keyword>if</span> (j - cnt[i][<span class=number>1</span>] >= <span class=number>0</span> && dp[i - <span class=number>1</span>][j - cnt[i][<span class=number>1</span>]])</span><br><span class=line>                {</span><br><span class=line>                    dp[i][j] += dp[i - <span class=number>1</span>][j - cnt[i][<span class=number>1</span>]];</span><br><span class=line>                    path[i][j] = cnt[i][<span class=number>1</span>];</span><br><span class=line>                }</span><br><span class=line>            }</span><br><span class=line>        <span class=keyword>if</span> (dp[tot][p1] != <span class=number>1</span>)</span><br><span class=line>            <span class=built_in>printf</span>(<span class=string>"no\n"</span>);</span><br><span class=line>        <span class=keyword>else</span></span><br><span class=line>        {</span><br><span class=line>            <span class=keyword>for</span> (<span class=type>int</span> i = tot, j = p1; j > <span class=number>0</span> && i > <span class=number>0</span>; --i)</span><br><span class=line>            {</span><br><span class=line>                <span class=keyword>if</span> (path[i][j] == cnt[i][<span class=number>0</span>])</span><br><span class=line>                    flag[i][<span class=number>0</span>] = <span class=number>1</span>;</span><br><span class=line>                <span class=keyword>else</span></span><br><span class=line>                    flag[i][<span class=number>1</span>] = <span class=number>1</span>;</span><br><span class=line>                j -= path[i][j];</span><br><span class=line>            }</span><br><span class=line>            <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= p1 + p2; i++)</span><br><span class=line>                <span class=keyword>if</span> (flag[g[<span class=built_in>find</span>(i)]][d[i]])</span><br><span class=line>                    <span class=built_in>printf</span>(<span class=string>"%d\n"</span>, i);</span><br><span class=line>            <span class=built_in>printf</span>(<span class=string>"end\n"</span>);</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=POJ-1456-Supermarket><a title="POJ-1456 Supermarket" class=headerlink href=#POJ-1456-Supermarket></a>POJ-1456 Supermarket</h3><p>贪心+并查集。优先买贵的，贵的尽量在 ddl 买，这样可以给买其他物品留些时间避免超时。按价格排序后依次处理，每一个都在 ddl 那天往前找可用的时间。这样找空闲时间的复杂度最坏为 <mjx-container class=MathJax jax=SVG><svg style="vertical-align: -0.566ex;" viewbox="0 -833.9 2577.6 1083.9" focusable=false height=2.452ex role=img width=5.832ex xmlns=http://www.w3.org/2000/svg><g fill=currentColor stroke=currentColor stroke-width=0 transform=scale(1,-1)><g data-mml-node=math><g data-mml-node=mi><path d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z" data-c=1D442></path></g><g data-mml-node=mo transform=translate(763,0)><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" data-c=28></path></g><g data-mml-node=msup transform=translate(1152,0)><g data-mml-node=mi><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" data-c=1D45B></path></g><g transform="translate(633,363) scale(0.707)" data-mml-node=mn><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" data-c=32></path></g></g><g data-mml-node=mo transform=translate(2188.6,0)><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" data-c=29></path></g></g></g></svg></mjx-container>。所以用并查集优化，每个节点代表距离当前 ddl 最近的可用空闲日期。每次用掉一天就连接当前点和前一点。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTvector></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTalgorithm></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=keyword>typedef</span> pair<<span class=type>int</span>, <span class=type>int</span>> pii;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>10001</span>;</span><br><span class=line><span class=type>int</span> n, f[N];</span><br><span class=line>vector&LTpii> a;</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>find</span><span class=params>(<span class=type>int</span> x)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>return</span> f[x] == x ? x : f[x] = <span class=built_in>find</span>(f[x]);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>while</span> (~<span class=built_in>scanf</span>(<span class=string>"%d"</span>, &n))</span><br><span class=line>    {</span><br><span class=line>        a.<span class=built_in>clear</span>();</span><br><span class=line>        <span class=type>int</span> maxd = <span class=number>0</span>, ans = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>, p, d; i < n; ++i)</span><br><span class=line>        {</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &p, &d);</span><br><span class=line>            a.<span class=built_in>push_back</span>({-p, d});</span><br><span class=line>            maxd = <span class=built_in>max</span>(maxd, d);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i <= maxd; ++i)</span><br><span class=line>            f[i] = i;</span><br><span class=line>        <span class=built_in>sort</span>(a.<span class=built_in>begin</span>(), a.<span class=built_in>end</span>());</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < a.<span class=built_in>size</span>(); ++i)</span><br><span class=line>        {</span><br><span class=line>            <span class=type>int</span> p = -a[i].first, d = a[i].second;</span><br><span class=line>            <span class=type>int</span> fd = <span class=built_in>find</span>(d);</span><br><span class=line>            <span class=keyword>if</span> (fd > <span class=number>0</span>) {</span><br><span class=line>                ans += p;</span><br><span class=line>                f[fd] = fd - <span class=number>1</span>;</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=built_in>printf</span>(<span class=string>"%d\n"</span>, ans);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=POJ-1733-Parity-game><a title="POJ-1733 Parity game" class=headerlink href=#POJ-1733-Parity-game></a>POJ-1733 Parity game</h3><p>考虑取值范围，<mjx-container class=MathJax jax=SVG><svg style="vertical-align: -0.439ex;" viewbox="0 -683 8050.8 877" focusable=false height=1.984ex role=img width=18.214ex xmlns=http://www.w3.org/2000/svg><g fill=currentColor stroke=currentColor stroke-width=0 transform=scale(1,-1)><g data-mml-node=math><g data-mml-node=mi><path d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z" data-c=1D441></path></g><g data-mml-node=mo transform=translate(1165.8,0)><path d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z" data-c=2264></path></g><g data-mml-node=mn transform=translate(2221.6,0)><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" data-c=30></path><path d="M352 287Q304 211 232 211Q154 211 104 270T44 396Q42 412 42 436V444Q42 537 111 606Q171 666 243 666Q245 666 249 666T257 665H261Q273 665 286 663T323 651T370 619T413 560Q456 472 456 334Q456 194 396 97Q361 41 312 10T208 -22Q147 -22 108 7T68 93T121 149Q143 149 158 135T173 96Q173 78 164 65T148 49T135 44L131 43Q131 41 138 37T164 27T206 22H212Q272 22 313 86Q352 142 352 280V287ZM244 248Q292 248 321 297T351 430Q351 508 343 542Q341 552 337 562T323 588T293 615T246 625Q208 625 181 598Q160 576 154 546T147 441Q147 358 152 329T172 282Q197 248 244 248Z" data-c=39 transform=translate(500,0)></path></g><g data-mml-node=mo transform=translate(3221.6,0)><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" data-c=2C></path></g><g data-mml-node=mi transform=translate(3666.2,0)><path d="M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z" data-c=1D440></path></g><g data-mml-node=mo transform=translate(4995,0)><path d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z" data-c=2264></path></g><g data-mml-node=mn transform=translate(6050.8,0)><path d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z" data-c=35></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" data-c=30 transform=translate(500,0)></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" data-c=30 transform=translate(1000,0)></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" data-c=30 transform=translate(1500,0)></path></g></g></g></svg></mjx-container>，需要离散化数据。然后用并查集维护节点关系（奇偶，非此即彼），发现矛盾可提前退出。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTalgorithm></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTunordered_map></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>10010</span>;</span><br><span class=line><span class=type>int</span> n, m, p[N * <span class=number>2</span>];</span><br><span class=line>unordered_map<<span class=type>int</span>, <span class=type>int</span>> s;</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>find</span><span class=params>(<span class=type>int</span> x)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>return</span> p[x] == x ? x : p[x] = <span class=built_in>find</span>(p[x]);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>get</span><span class=params>(<span class=type>int</span> x)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>if</span> (s.<span class=built_in>find</span>(x) == s.<span class=built_in>end</span>())</span><br><span class=line>        s[x] = ++n;</span><br><span class=line>    <span class=keyword>return</span> s[x];</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    cin >> n >> m;</span><br><span class=line>    n = <span class=number>0</span>;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < N * <span class=number>2</span>; ++i)</span><br><span class=line>        p[i] = i;</span><br><span class=line>    <span class=type>int</span> ans = m;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= m; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> a, b;</span><br><span class=line>        string type;</span><br><span class=line>        cin >> a >> b >> type;</span><br><span class=line>        a = <span class=built_in>get</span>(a - <span class=number>1</span>), b = <span class=built_in>get</span>(b);</span><br><span class=line>        <span class=keyword>if</span> (type == <span class=string>"even"</span>)</span><br><span class=line>        {</span><br><span class=line>            <span class=keyword>if</span> (<span class=built_in>find</span>(a + N) == <span class=built_in>find</span>(b))</span><br><span class=line>            {</span><br><span class=line>                ans = i - <span class=number>1</span>;</span><br><span class=line>                <span class=keyword>break</span>;</span><br><span class=line>            }</span><br><span class=line>            p[<span class=built_in>find</span>(a)] = <span class=built_in>find</span>(b);</span><br><span class=line>            p[<span class=built_in>find</span>(a + N)] = <span class=built_in>find</span>(b + N);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>else</span></span><br><span class=line>        {</span><br><span class=line>            <span class=keyword>if</span> (<span class=built_in>find</span>(a) == <span class=built_in>find</span>(b))</span><br><span class=line>            {</span><br><span class=line>                ans = i - <span class=number>1</span>;</span><br><span class=line>                <span class=keyword>break</span>;</span><br><span class=line>            }</span><br><span class=line>            p[<span class=built_in>find</span>(a + N)] = <span class=built_in>find</span>(b);</span><br><span class=line>            p[<span class=built_in>find</span>(a)] = <span class=built_in>find</span>(b + N);</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>    cout << ans << endl;</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=POJ-1984-Navigation-Nightmare><a title="POJ-1984 Navigation Nightmare" class=headerlink href=#POJ-1984-Navigation-Nightmare></a>POJ-1984 Navigation Nightmare</h3><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=comment>// TODO</span></span><br></pre></table></figure><h3 id=POJ-2492-A-Bug’s-Life><a title="POJ-2492 A Bug’s Life" class=headerlink href=#POJ-2492-A-Bug’s-Life></a>POJ-2492 A Bug’s Life</h3><p>01 关系，非此即彼，用并查集维护。<div class=tabs id=poj-2492><ul class=nav-tabs><li class="tab active"><a href=#poj-2492-1>拓展域并查集</a><li class=tab><a href=#poj-2492-2>权值并查集</a></ul><div class=tab-content><div class="tab-pane active" id=poj-2492-1><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>define</span> N 2001</span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>int</span> t, n, m, f[N * <span class=number>2</span>];</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>find</span><span class=params>(<span class=type>int</span> x)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>return</span> f[x] == x ? x : f[x] = <span class=built_in>find</span>(f[x]);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>join</span><span class=params>(<span class=type>int</span> x, <span class=type>int</span> y)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    f[<span class=built_in>find</span>(x)] = <span class=built_in>find</span>(y);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d"</span>, &t);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> _ = <span class=number>1</span>, a, b; _ <= t; ++_)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &n, &m);</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n * <span class=number>2</span>; ++i)</span><br><span class=line>            f[i] = i;</span><br><span class=line>        <span class=type>bool</span> flag = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>while</span> (m--)</span><br><span class=line>        {</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &a, &b);</span><br><span class=line>            <span class=keyword>if</span> (<span class=built_in>find</span>(a) == <span class=built_in>find</span>(b) || <span class=built_in>find</span>(a + n) == <span class=built_in>find</span>(b + n))</span><br><span class=line>                flag = <span class=number>1</span>;</span><br><span class=line>            <span class=keyword>else</span></span><br><span class=line>                <span class=built_in>join</span>(a, b + n), <span class=built_in>join</span>(a + n, b);</span><br><span class=line>        }</span><br><span class=line>        <span class=built_in>printf</span>(<span class=string>"Scenario #%d:\n"</span>, _);</span><br><span class=line>        <span class=built_in>printf</span>(flag ? <span class=string>"Suspicious bugs found!\n\n"</span> : <span class=string>"No suspicious bugs found!\n\n"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure></div><div class=tab-pane id=poj-2492-2><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>define</span> N 2001</span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>int</span> t, n, m, f[N], d[N];</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>find</span><span class=params>(<span class=type>int</span> x)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>if</span> (f[x] != x)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> root = <span class=built_in>find</span>(f[x]);</span><br><span class=line>        d[x] = d[x] ^ d[f[x]];</span><br><span class=line>        f[x] = root;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> f[x];</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>join</span><span class=params>(<span class=type>int</span> x, <span class=type>int</span> y)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=type>int</span> fx = <span class=built_in>find</span>(x), fy = <span class=built_in>find</span>(y);</span><br><span class=line>    <span class=keyword>if</span> (fx != fy)</span><br><span class=line>        f[fx] = fy, d[fx] = <span class=number>1</span> ^ d[x] ^ d[y];</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d"</span>, &t);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> _ = <span class=number>1</span>, a, b; _ <= t; ++_)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &n, &m);</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>            f[i] = i, d[i] = <span class=number>0</span>;</span><br><span class=line>        <span class=type>bool</span> flag = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>while</span> (m--)</span><br><span class=line>        {</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &a, &b);</span><br><span class=line>            <span class=type>int</span> fa = <span class=built_in>find</span>(a), fb = <span class=built_in>find</span>(b);</span><br><span class=line>            <span class=keyword>if</span> (fa == fb)</span><br><span class=line>            {</span><br><span class=line>                <span class=keyword>if</span> (d[a] == d[b])</span><br><span class=line>                    flag = <span class=number>1</span>;</span><br><span class=line>            }</span><br><span class=line>            <span class=keyword>else</span></span><br><span class=line>                <span class=built_in>join</span>(a, b);</span><br><span class=line>        }</span><br><span class=line>        <span class=built_in>printf</span>(<span class=string>"Scenario #%d:\n"</span>, _);</span><br><span class=line>        <span class=built_in>printf</span>(flag ? <span class=string>"Suspicious bugs found!\n\n"</span> : <span class=string>"No suspicious bugs found!\n\n"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure></div></div></div><h3 id=POJ-2912-Rochambeau><a title="POJ-2912 Rochambeau" class=headerlink href=#POJ-2912-Rochambeau></a>POJ-2912 Rochambeau</h3><p>类似上面的<a href=#POJ-1417-True-Liars>True Liars</a>。不过没有 01 背包这种“巧妙”的枚举，这题是“暴力”枚举每个人当裁判的可能性。若某人不可能是裁判，记录确定其不可能性的时间点。这样一来，如果最后只有一个小孩是裁判，那取其他人的不可能时间点的最大值，就是确定小孩可以当裁判（唯一裁判）的最早时间。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTalgorithm></span></span></span><br><span class=line><span class=meta>#<span class=keyword>define</span> N 500</span></span><br><span class=line><span class=meta>#<span class=keyword>define</span> M 2001</span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>int</span> n, m, a[M], b[M];</span><br><span class=line><span class=type>char</span> c[M];</span><br><span class=line><span class=type>int</span> p[N], d[N];</span><br><span class=line><span class=type>bool</span> st[N]; <span class=comment>// is `i` a judge or not.</span></span><br><span class=line><span class=type>int</span> f[N];   <span class=comment>// in which turn can we confirm that `i` is not a judge.</span></span><br><span class=line><span class=function><span class=type>int</span> <span class=title>find</span><span class=params>(<span class=type>int</span> x)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>if</span> (p[x] != x)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> root = <span class=built_in>find</span>(p[x]);</span><br><span class=line>        d[x] = (d[x] + d[p[x]]) % <span class=number>3</span>;</span><br><span class=line>        p[x] = root;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> p[x];</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>bool</span> <span class=title>check</span><span class=params>(<span class=type>int</span> k)</span> <span class=comment>// check if the kth round is valid.</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=type>int</span> x = a[k], y = b[k];</span><br><span class=line>    <span class=type>int</span> t = <span class=number>1</span>;</span><br><span class=line>    <span class=keyword>if</span> (c[k] == <span class=string>'='</span>)</span><br><span class=line>        t = <span class=number>0</span>;</span><br><span class=line>    <span class=keyword>else</span> <span class=keyword>if</span> (c[k] == <span class=string>'>'</span>)</span><br><span class=line>        <span class=built_in>swap</span>(x, y); <span class=comment>// so that it's always 'x>y'.</span></span><br><span class=line>    <span class=type>int</span> px = <span class=built_in>find</span>(x), py = <span class=built_in>find</span>(y);</span><br><span class=line>    <span class=keyword>if</span> (px == py)</span><br><span class=line>    {</span><br><span class=line>        <span class=keyword>if</span> (d[x] != (d[y] + t) % <span class=number>3</span>)</span><br><span class=line>            <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>else</span></span><br><span class=line>    {</span><br><span class=line>        p[px] = py;</span><br><span class=line>        d[px] = ((t + d[y] - d[x]) % <span class=number>3</span> + <span class=number>3</span>) % <span class=number>3</span>;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>1</span>;</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>while</span> (~<span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &n, &m))</span><br><span class=line>    {</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= m; ++i)</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d%c%d"</span>, &a[i], &c[i], &b[i]);</span><br><span class=line>        <span class=built_in>memset</span>(f, <span class=number>0</span>, <span class=keyword>sizeof</span> f);</span><br><span class=line>        <span class=type>int</span> judge_cnt = <span class=number>0</span>, judge_idx = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < n; ++i) <span class=comment>// for each child.</span></span><br><span class=line>        {</span><br><span class=line>            <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>0</span>; j < n; ++j)</span><br><span class=line>                p[j] = j, d[j] = <span class=number>0</span>;</span><br><span class=line>            <span class=type>bool</span> is_judge = <span class=number>1</span>;             <span class=comment>// assume that `i` is a judge.</span></span><br><span class=line>            <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>1</span>; j <= m; ++j)   <span class=comment>// for each rounds.</span></span><br><span class=line>                <span class=keyword>if</span> (a[j] != i && b[j] != i <span class=comment>// `i` (the judge) is not involved.</span></span><br><span class=line>                    && !<span class=built_in>check</span>(j))          <span class=comment>// check if it's still valid.</span></span><br><span class=line>                {</span><br><span class=line>                    is_judge = <span class=number>0</span>;</span><br><span class=line>                    f[i] = j; <span class=comment>// at jth round we can confirm that `i` is not a judge.</span></span><br><span class=line>                    <span class=keyword>break</span>;</span><br><span class=line>                }</span><br><span class=line>            <span class=keyword>if</span> (is_judge)</span><br><span class=line>            {</span><br><span class=line>                ++judge_cnt;</span><br><span class=line>                judge_idx = i;</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (!judge_cnt)</span><br><span class=line>            <span class=built_in>puts</span>(<span class=string>"Impossible"</span>);</span><br><span class=line>        <span class=keyword>else</span> <span class=keyword>if</span> (judge_cnt > <span class=number>1</span>)</span><br><span class=line>            <span class=built_in>puts</span>(<span class=string>"Can not determine"</span>);</span><br><span class=line>        <span class=keyword>else</span></span><br><span class=line>            <span class=built_in>printf</span>(<span class=string>"Player %d can be determined to be the judge after %d lines\n"</span>, judge_idx, *<span class=built_in>max_element</span>(f, f + n));</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=ZOJ-3261-Connections-in-Galaxy-War><a title="ZOJ-3261 Connections in Galaxy War" class=headerlink href=#ZOJ-3261-Connections-in-Galaxy-War></a>ZOJ-3261 Connections in Galaxy War</h3><p>并查集删除边，需要<strong>反着做</strong>。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTalgorithm></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTvector></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTset></span></span></span><br><span class=line><span class=meta>#<span class=keyword>define</span> N 10000</span></span><br><span class=line><span class=meta>#<span class=keyword>define</span> Q 50000</span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>int</span> n, p[N], m, q, qs[Q][<span class=number>3</span>];</span><br><span class=line><span class=type>char</span> s[<span class=number>8</span>];</span><br><span class=line>set<<span class=type>int</span>> g; <span class=comment>// tunnels.</span></span><br><span class=line><span class=type>int</span> fa[N], maxp[N], maxp_idx[N];</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>find</span><span class=params>(<span class=type>int</span> x)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>return</span> fa[x] == x ? x : fa[x] = <span class=built_in>find</span>(fa[x]);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>unite</span><span class=params>(<span class=type>int</span> x, <span class=type>int</span> y)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    x = <span class=built_in>find</span>(x), y = <span class=built_in>find</span>(y);</span><br><span class=line>    <span class=keyword>if</span> (x != y)</span><br><span class=line>    {</span><br><span class=line>        fa[y] = x;</span><br><span class=line>        <span class=keyword>if</span> (maxp[x] == maxp[y])</span><br><span class=line>            maxp_idx[x] = <span class=built_in>min</span>(maxp_idx[x], maxp_idx[y]);</span><br><span class=line>        <span class=keyword>else</span> <span class=keyword>if</span> (maxp[x] < maxp[y])</span><br><span class=line>            maxp[x] = maxp[y], maxp_idx[x] = maxp_idx[y];</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>ab_to_idx</span><span class=params>(<span class=type>int</span> a, <span class=type>int</span> b)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>if</span> (a > b)</span><br><span class=line>        <span class=built_in>swap</span>(a, b);       <span class=comment>// always take the smaller one as a.</span></span><br><span class=line>    <span class=keyword>return</span> (a << <span class=number>14</span>) + b; <span class=comment>// then map to 32-bit integer.</span></span><br><span class=line>}</span><br><span class=line><span class=function>pair<<span class=type>int</span>, <span class=type>int</span>> <span class=title>idx_to_ab</span><span class=params>(<span class=type>int</span> idx)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=type>int</span> b = ((<span class=number>1</span> << <span class=number>14</span>) - <span class=number>1</span>) & idx;</span><br><span class=line>    <span class=type>int</span> a = (idx - b) >> <span class=number>14</span>;</span><br><span class=line>    <span class=keyword>return</span> {a, b};</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=type>bool</span> flag = <span class=number>0</span>;</span><br><span class=line>    <span class=keyword>while</span> (~<span class=built_in>scanf</span>(<span class=string>"%d"</span>, &n))</span><br><span class=line>    {</span><br><span class=line>        <span class=keyword>if</span> (flag)</span><br><span class=line>            <span class=built_in>puts</span>(<span class=string>""</span>);</span><br><span class=line>        <span class=keyword>else</span></span><br><span class=line>            flag = <span class=number>1</span>;</span><br><span class=line>        g.<span class=built_in>clear</span>();</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < n; ++i)</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d"</span>, &p[i]);</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d"</span>, &m);</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>, a, b; i < m; ++i)</span><br><span class=line>        {</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &a, &b);</span><br><span class=line>            g.<span class=built_in>insert</span>(<span class=built_in>ab_to_idx</span>(a, b));</span><br><span class=line>        }</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d"</span>, &q);</span><br><span class=line>        vector&LTpair<<span class=type>int</span>, <span class=type>int</span>>> ds;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>, a, b; i < q; ++i)</span><br><span class=line>        {</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%s%d"</span>, s, &a);</span><br><span class=line>            <span class=keyword>if</span> (s[<span class=number>0</span>] == <span class=string>'d'</span>)</span><br><span class=line>            {</span><br><span class=line>                <span class=built_in>scanf</span>(<span class=string>"%d"</span>, &b);</span><br><span class=line>                qs[i][<span class=number>0</span>] = <span class=number>0</span>, qs[i][<span class=number>1</span>] = a, qs[i][<span class=number>2</span>] = b;</span><br><span class=line>                g.<span class=built_in>erase</span>(<span class=built_in>ab_to_idx</span>(a, b)); <span class=comment>// destory first.</span></span><br><span class=line>            }</span><br><span class=line>            <span class=keyword>else</span></span><br><span class=line>                qs[i][<span class=number>0</span>] = <span class=number>1</span>, qs[i][<span class=number>1</span>] = a;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < n; ++i)</span><br><span class=line>            fa[i] = i, maxp[i] = p[i], maxp_idx[i] = i;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> idx : g)</span><br><span class=line>        {</span><br><span class=line>            <span class=keyword>auto</span> [a, b] = <span class=built_in>idx_to_ab</span>(idx);</span><br><span class=line>            <span class=built_in>unite</span>(a, b); <span class=comment>// build graph.</span></span><br><span class=line>        }</span><br><span class=line>        vector<<span class=type>int</span>> ans;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = q - <span class=number>1</span>; i >= <span class=number>0</span>; --i)</span><br><span class=line>        {</span><br><span class=line>            <span class=keyword>if</span> (qs[i][<span class=number>0</span>] == <span class=number>0</span>) <span class=comment>// reverse destroyed tunnel.</span></span><br><span class=line>                <span class=built_in>unite</span>(qs[i][<span class=number>1</span>], qs[i][<span class=number>2</span>]);</span><br><span class=line>            <span class=keyword>else</span> <span class=comment>// query.</span></span><br><span class=line>            {</span><br><span class=line>                <span class=type>int</span> a = qs[i][<span class=number>1</span>], f = <span class=built_in>find</span>(a);</span><br><span class=line>                ans.<span class=built_in>push_back</span>(maxp[f] <= p[a] ? <span class=number>-1</span> : maxp_idx[f]);</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = ans.<span class=built_in>size</span>() - <span class=number>1</span>; i >= <span class=number>0</span>; --i)</span><br><span class=line>            <span class=built_in>printf</span>(<span class=string>"%d\n"</span>, ans[i]);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=HDU-1272-小希的迷宫><a title="HDU-1272 小希的迷宫" class=headerlink href=#HDU-1272-小希的迷宫></a>HDU-1272 小希的迷宫</h3><h3 id=POJ-1308-Is-It-A-Tree><a title="POJ-1308 Is It A Tree?" class=headerlink href=#POJ-1308-Is-It-A-Tree></a>POJ-1308 Is It A Tree?</h3></div><footer class=post-footer><div class=post-tags><a href=/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/ rel=tag># 并查集</a><a href=/tags/kuangbin/ rel=tag># kuangbin</a></div><div class=post-nav><div class=post-nav-item><a title="kuangbin 专题四 最短路练习" href=/kuangbin/kuangbin-%E4%B8%93%E9%A2%98%E5%9B%9B-%E6%9C%80%E7%9F%AD%E8%B7%AF%E7%BB%83%E4%B9%A0/ rel=prev> <i class="fa fa-angle-left"></i> kuangbin 专题四 最短路练习 </a></div><div class=post-nav-item><a title="kuangbin 专题六 最小生成树" href=/kuangbin/kuangbin-%E4%B8%93%E9%A2%98%E5%85%AD-%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/ rel=next> kuangbin 专题六 最小生成树 <i class="fa fa-angle-right"></i> </a></div></div></footer></article></div><div class="comments giscus-container"></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>© <span itemprop=copyrightYear>2023</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>Shawn</span></div><div class=powered-by>Powered by <a href=https://hexo.io/ rel=noopener target=_blank>Hexo</a> & <a href=https://theme-next.js.org/mist/ rel=noopener target=_blank>NexT.Mist</a></div></div></footer><link href=https://code.bdstatic.com/npm/aplayer@1.10.1/dist/APlayer.min.css rel=stylesheet><script src=https://code.bdstatic.com/npm/aplayer@1.10.1/dist/APlayer.min.js></script><script src=https://code.bdstatic.com/npm/meting@2.0.1/dist/Meting.min.js></script><div><meting-js autoplay=false fixed=true id=4879931134 list-folded=ture list-max-height=500px loop=all lrc-type=1 order=random preload=auto server=netease type=playlist> </meting-js></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><div class=sidebar-dimmer></div><div aria-label="Back to top" class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><script crossorigin integrity=sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY= src=https://fastly.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js></script><script crossorigin integrity=sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao= src=https://fastly.jsdelivr.net/npm/@next-theme/pjax@0.6.0/pjax.min.js></script><script src=/js/comments.js></script><script src=/js/utils.js></script><script src=/js/motion.js></script><script src=/js/schemes/muse.js></script><script src=/js/next-boot.js></script><script src=/js/pjax.js></script><script crossorigin integrity=sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc= src=https://fastly.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js></script><script src=/js/third-party/search/local-search.js></script><script class=next-config data-name=giscus type=application/json>{"enable":true,"repo":"PeiChengLiu/blog-comment","repo_id":"R_kgDOKOue5g","category":"General","category_id":"DIC_kwDOKOue5s4CZDD1","reactions_enabled":1,"input_position":"top","theme":"dark","language":null,"lazy_loading":"lazy"}</script><script src=/js/third-party/comments/giscus.js></script>