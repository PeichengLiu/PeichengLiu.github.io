<!doctypehtml><html lang=en><meta charset=UTF-8><meta content=width=device-width name=viewport><meta media="(prefers-color-scheme: light)" content=#222 name=theme-color><meta media="(prefers-color-scheme: dark)" content=#222 name=theme-color><meta content="Hexo 6.3.0" name=generator><link crossorigin href=https://fonts.geekzu.org rel=preconnect><link crossorigin href=https://fastly.jsdelivr.net rel=preconnect><link href=/images/apple-touch-icon-next.png rel=apple-touch-icon sizes=180x180><link href=/images/favicon-32x32-next.png rel=icon sizes=32x32 type=image/png><link href=/images/favicon-16x16-next.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><style>:root{--body-bg-color:#fff;--content-bg-color:#f5f5f5;--card-bg-color:#f5f5f5;--text-color:#555;--blockquote-color:#666;--link-color:#555;--link-hover-color:#222;--brand-color:#222;--brand-hover-color:#222;--table-row-odd-bg-color:#f9f9f9;--table-row-hover-bg-color:#f5f5f5;--menu-item-bg-color:#ddd;--theme-color:#222;--btn-default-bg:transparent;--btn-default-color:var(--link-color);--btn-default-border-color:var(--link-color);--btn-default-hover-bg:transparent;--btn-default-hover-color:var(--link-hover-color);--btn-default-hover-border-color:var(--link-hover-color);--highlight-background:#f3f3f3;--highlight-foreground:#444;--highlight-gutter-background:#e1e1e1;--highlight-gutter-foreground:#555;color-scheme:light}@media (prefers-color-scheme:dark){:root{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--theme-color:#222;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#1c1b1b;--highlight-foreground:#fff;--highlight-gutter-background:#323131;--highlight-gutter-foreground:#e8e8e8;color-scheme:dark}img{opacity:.75}img:hover{opacity:.9}iframe{color-scheme:light}}html{line-height:1.15;-webkit-text-size-adjust:100%}details,main{display:block}pre{font-size:1em;overflow:auto;padding:10px}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:ButtonText dotted 1px}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}.table-container,textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}summary{display:list-item}[hidden],template{display:none}::selection{background:#262a30;color:#eee}body,html{height:100%}body{margin:0;background:var(--body-bg-color);box-sizing:border-box;color:var(--text-color);font-family:Lato,'PingFang SC','Microsoft YaHei',sans-serif;font-size:1em;line-height:2;min-height:100%;position:relative;transition:padding .2s ease-in-out}h1,h2,h3,h4,h5,h6{font-family:Lato,'PingFang SC','Microsoft YaHei',sans-serif;font-weight:700;line-height:1.5;margin:30px 0 15px}h1{font-size:1.5em}h2{font-size:1.375em}h3{font-size:1.25em}h4{font-size:1.125em}h5{font-size:1em}h6{font-size:.875em}p{margin:0 0 20px}a{background:0 0;border-bottom:1px solid #ccc;color:var(--link-color);cursor:pointer;outline:0;text-decoration:none;overflow-wrap:break-word}a:hover{border-bottom-color:var(--link-hover-color);color:var(--link-hover-color)}embed,iframe,img,video{display:block;margin-left:auto;margin-right:auto;max-width:100%}hr{box-sizing:content-box;overflow:visible;background-image:repeating-linear-gradient(-45deg,#ddd,#ddd 4px,transparent 4px,transparent 8px);border:0}blockquote{border-left:4px solid #ddd;color:var(--blockquote-color);margin:0;padding:0 15px}blockquote cite::before{content:'-';padding:0 5px}dt{font-weight:700}dd{margin:0;padding:0}table{border-collapse:collapse;border-spacing:0;font-size:.875em;margin:0 0 20px;width:100%}tbody tr:nth-of-type(odd){background:var(--table-row-odd-bg-color)}tbody tr:hover{background:var(--table-row-hover-bg-color)}caption,td,th{padding:8px}td,th{border:1px solid #ddd;border-bottom:3px solid #ddd}th{font-weight:700;padding-bottom:10px}td{border-bottom-width:1px}.btn{background:var(--btn-default-bg);border:2px solid var(--btn-default-border-color);border-radius:0;color:var(--btn-default-color);display:inline-block;font-size:.875em;line-height:2;transition:background-color .2s ease-in-out}.btn:hover{background:var(--btn-default-hover-bg);border-color:var(--btn-default-hover-border-color);color:var(--btn-default-hover-color)}.btn+.btn{margin:0 0 8px 8px}.btn .fa-fw{text-align:left;width:1.285714285714286em}.toggle{line-height:0}.toggle .toggle-line{background:#fff;display:block;height:2px;left:0;position:relative;top:0;transition:.4s;width:100%}.toggle .toggle-line:first-child{margin-top:1px}.toggle .toggle-line:not(:first-child){margin-top:4px}.toggle.toggle-arrow :first-child{top:2px;transform:rotate(-45deg);width:50%}.toggle.toggle-arrow :last-child{top:-2px;transform:rotate(45deg);width:50%}.toggle.toggle-close :nth-child(2){opacity:0}.toggle.toggle-close :first-child{top:6px;transform:rotate(-45deg)}.toggle.toggle-close :last-child{top:-6px;transform:rotate(45deg)}/*!
  Theme: Default
  Description: Original highlight.js style
  Author: (c) Ivan Sagalaev <maniac@softwaremaniacs.org>
  Maintainer: @highlightjs/core-team
  Website: https://highlightjs.org/
  License: see project LICENSE
  Touched: 2021
*/pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{background:#f3f3f3;color:#444}.hljs-comment{color:#697070}.hljs-punctuation,.hljs-tag{color:#444a}.hljs-tag .hljs-attr,.hljs-tag .hljs-name{color:#444}.hljs-attribute,.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-name,.hljs-selector-tag{font-weight:700}.hljs-deletion,.hljs-number,.hljs-quote,.hljs-selector-class,.hljs-selector-id,.hljs-string,.hljs-template-tag,.hljs-type{color:#800}.hljs-section,.hljs-title{color:#800;font-weight:700}.hljs-link,.hljs-operator,.hljs-regexp,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-symbol,.hljs-template-variable,.hljs-variable{color:#ab5656}.hljs-literal{color:#695}.hljs-addition,.hljs-built_in,.hljs-bullet,.hljs-code{color:#397300}.hljs-meta{color:#1f7199}.hljs-meta .hljs-string{color:#38a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media (prefers-color-scheme:dark){pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: StackOverflow Dark
  Description: Dark theme as used on stackoverflow.com
  Author: stackoverflow.com
  Maintainer: @Hirse
  Website: https://github.com/StackExchange/Stacks
  License: MIT
  Updated: 2021-05-15

  Updated for @stackoverflow/stacks v0.64.0
  Code Blocks: /blob/v0.64.0/lib/css/components/_stacks-code-blocks.less
  Colors: /blob/v0.64.0/lib/css/exports/_stacks-constants-colors.less
*/.hljs{color:#fff;background:#1c1b1b}.hljs-subst{color:#fff}.hljs-comment{color:#999}.hljs-attr,.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-section,.hljs-selector-tag{color:#88aece}.hljs-attribute{color:#c59bc1}.hljs-name,.hljs-number,.hljs-quote,.hljs-selector-id,.hljs-template-tag,.hljs-type{color:#f08d49}.hljs-selector-class{color:#88aece}.hljs-link,.hljs-regexp,.hljs-selector-attr,.hljs-string,.hljs-symbol,.hljs-template-variable,.hljs-variable{color:#b5bd68}.hljs-meta,.hljs-selector-pseudo{color:#88aece}.hljs-built_in,.hljs-literal,.hljs-title{color:#f08d49}.hljs-bullet,.hljs-code{color:#ccc}.hljs-meta .hljs-string{color:#b5bd68}.hljs-deletion{color:#de7176}.hljs-addition{color:#76c490}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}}.code-container:hover .copy-btn,.highlight:hover .copy-btn{opacity:1}.code-container{position:relative}.copy-btn{color:#333;cursor:pointer;line-height:1.6;opacity:0;padding:2px 6px;position:absolute;transition:opacity .2s ease-in-out;background-color:#eee;background-image:linear-gradient(#fcfcfc,#eee);border:1px solid #d5d5d5;border-radius:3px;font-size:.8125em;right:4px;top:8px}.expand-btn{bottom:0;color:var(--highlight-foreground);cursor:pointer;display:none;left:0;right:0;position:absolute;text-align:center}.fold-cover{background-image:linear-gradient(to top,var(--highlight-background) 0,rgba(0,0,0,0) 100%);bottom:0;display:none;height:50px;left:0;right:0;position:absolute}.highlight-fold{max-height:500px;overflow-y:hidden!important}.highlight-fold .expand-btn,.highlight-fold .fold-cover{display:block}code,figure.highlight,kbd,pre{background:var(--highlight-background);color:var(--highlight-foreground)}figure.highlight,pre{line-height:1.6;margin:0 auto 20px}figure.highlight figcaption,pre .caption,pre figcaption{background:var(--highlight-gutter-background);color:var(--highlight-foreground);display:flow-root;font-size:.875em;line-height:1.2;padding:.5em}figure.highlight figcaption a,pre .caption a,pre figcaption a{color:var(--highlight-foreground);float:right}figure.highlight figcaption a:hover,pre .caption a:hover,pre figcaption a:hover{border-bottom-color:var(--highlight-foreground)}code,pre{font-family:consolas,Menlo,monospace,'PingFang SC','Microsoft YaHei'}code{border-radius:3px;font-size:.875em;padding:2px 4px;overflow-wrap:break-word}kbd{border:2px solid #ccc;border-radius:.2em;box-shadow:.1em .1em .2em rgba(0,0,0,.1);font-family:inherit;padding:.1em .3em;white-space:nowrap}figure.highlight{overflow:auto;position:relative}figure.highlight pre{border:0;margin:0;padding:10px 0}figure.highlight table{border:0;margin:0;width:auto}figure.highlight td{border:0;padding:0}figure.highlight .gutter{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none}figure.highlight .gutter pre{background:var(--highlight-gutter-background);color:var(--highlight-gutter-foreground);padding-left:10px;padding-right:10px;text-align:right}figure.highlight .code pre{padding-left:10px;width:100%}figure.highlight .marked{background:rgba(0,0,0,.3)}pre .caption,pre figcaption{margin-bottom:10px}.gist table{width:auto}.gist table td{border:0}pre code{background:0 0;padding:0;text-shadow:none}.blockquote-center{border-left:0;margin:40px 0;padding:0;position:relative;text-align:center}.blockquote-center::after,.blockquote-center::before{left:0;line-height:1;opacity:.6;position:absolute;width:100%}.blockquote-center::before{border-top:1px solid #ccc;text-align:left;top:-20px;content:'\f10d';font-family:'Font Awesome 6 Free';font-weight:900}.blockquote-center::after{border-bottom:1px solid #ccc;bottom:-20px;text-align:right;content:'\f10e';font-family:'Font Awesome 6 Free';font-weight:900}.blockquote-center div,.blockquote-center p{text-align:center}.group-picture{margin-bottom:20px}.group-picture .group-picture-row{display:flex;gap:3px;margin-bottom:3px}.group-picture .group-picture-column{flex:1}.group-picture .group-picture-column img{height:100%;margin:0;object-fit:cover;width:100%}.post-body .label{color:#555;padding:0 2px}.post-body .label.default{background:#f0f0f0}.post-body .label.primary{background:#efe6f7}.post-body .label.info{background:#e5f2f8}.post-body .label.success{background:#e7f4e9}.post-body .label.warning{background:#fcf6e1}.post-body .label.danger{background:#fae8eb}.post-body .link-grid{display:grid;grid-gap:1.5rem;gap:1.5rem;grid-template-columns:1fr 1fr;margin-bottom:20px;padding:1rem}.post-body .link-grid .link-grid-container{border:solid #ddd;box-shadow:1rem 1rem .5rem rgba(0,0,0,.5);min-height:5rem;min-width:0;padding:.5rem;position:relative;transition:background .3s}.post-body .link-grid .link-grid-container:hover{animation:.5s next-shake;background:var(--card-bg-color)}.post-body .link-grid .link-grid-container:active{box-shadow:.5rem .5rem .25rem rgba(0,0,0,.5);transform:translate(.2rem,.2rem)}.post-body .link-grid .link-grid-container .link-grid-image{border:1px solid #ddd;border-radius:50%;box-sizing:border-box;height:5rem;padding:3px;position:absolute;width:5rem}.post-body .link-grid .link-grid-container p{margin:0 1rem 0 6rem}.post-body .link-grid .link-grid-container p:first-of-type{font-size:1.2em}.post-body .link-grid .link-grid-container p:last-of-type{font-size:.8em;line-height:1.3rem;opacity:.7}.post-body .link-grid .link-grid-container a{border:0;height:100%;left:0;position:absolute;top:0;width:100%}@keyframes next-shake{0%{transform:translate(1pt,1pt) rotate(0)}10%{transform:translate(-1pt,-2pt) rotate(-1deg)}20%{transform:translate(-3pt,0) rotate(1deg)}30%{transform:translate(3pt,2pt) rotate(0)}40%{transform:translate(1pt,-1pt) rotate(1deg)}50%{transform:translate(-1pt,2pt) rotate(-1deg)}60%{transform:translate(-3pt,1pt) rotate(0)}70%{transform:translate(3pt,1pt) rotate(-1deg)}80%{transform:translate(-1pt,-1pt) rotate(1deg)}90%{transform:translate(1pt,2pt) rotate(0)}100%{transform:translate(1pt,-2pt) rotate(-1deg)}}.post-body .note{border-radius:3px;margin-bottom:20px;padding:1em;position:relative;border:1px solid #eee;border-left-width:5px}.post-body .note summary{cursor:pointer;outline:0}.post-body .note summary p{display:inline}.post-body .note h2,.post-body .note h3,.post-body .note h4,.post-body .note h5,.post-body .note h6{border-bottom:initial;margin:0;padding-top:0}.post-body .note :first-child{margin-top:0}.post-body .note :last-child{margin-bottom:0}.post-body .note.default{border-left-color:#777}.post-body .note.default h2,.post-body .note.default h3,.post-body .note.default h4,.post-body .note.default h5,.post-body .note.default h6{color:#777}.post-body .note.primary{border-left-color:#6f42c1}.post-body .note.primary h2,.post-body .note.primary h3,.post-body .note.primary h4,.post-body .note.primary h5,.post-body .note.primary h6{color:#6f42c1}.post-body .note.info{border-left-color:#428bca}.post-body .note.info h2,.post-body .note.info h3,.post-body .note.info h4,.post-body .note.info h5,.post-body .note.info h6{color:#428bca}.post-body .note.success{border-left-color:#5cb85c}.post-body .note.success h2,.post-body .note.success h3,.post-body .note.success h4,.post-body .note.success h5,.post-body .note.success h6{color:#5cb85c}.post-body .note.warning{border-left-color:#f0ad4e}.post-body .note.warning h2,.post-body .note.warning h3,.post-body .note.warning h4,.post-body .note.warning h5,.post-body .note.warning h6{color:#f0ad4e}.post-body .note.danger{border-left-color:#d9534f}.post-body .note.danger h2,.post-body .note.danger h3,.post-body .note.danger h4,.post-body .note.danger h5,.post-body .note.danger h6{color:#d9534f}.post-body .tabs{margin-bottom:20px}.post-body .tabs,.tabs-comment{padding-top:10px}.post-body .tabs ul.nav-tabs,.tabs-comment ul.nav-tabs{background:var(--body-bg-color);display:flex;display:flex;flex-wrap:wrap;justify-content:center;margin:0;padding:0;position:-webkit-sticky;position:sticky;top:0;z-index:5}.post-body .tabs ul.nav-tabs li.tab,.tabs-comment ul.nav-tabs li.tab{border-bottom:1px solid #ddd;border-left:1px solid transparent;border-right:1px solid transparent;border-radius:0;border-top:3px solid transparent;flex-grow:1;list-style-type:none}@media (max-width:413px){.post-body .tabs ul.nav-tabs,.tabs-comment ul.nav-tabs{display:block;margin-bottom:5px}.post-body .tabs ul.nav-tabs li.tab,.tabs-comment ul.nav-tabs li.tab{border-bottom:1px solid transparent;border-left:3px solid transparent;border-right:1px solid transparent;border-top:1px solid transparent;border-radius:0}}.post-body .tabs ul.nav-tabs li.tab a,.tabs-comment ul.nav-tabs li.tab a{border-bottom:initial;display:block;line-height:1.8;padding:.25em .75em;text-align:center;transition:.2s ease-out}.post-body .tabs ul.nav-tabs li.tab a i[class^=fa],.tabs-comment ul.nav-tabs li.tab a i[class^=fa]{width:1.285714285714286em}.post-body .tabs ul.nav-tabs li.tab.active,.tabs-comment ul.nav-tabs li.tab.active{border-color:#fc6423 #ddd transparent}@media (max-width:413px){.post-body .tabs ul.nav-tabs li.tab.active,.tabs-comment ul.nav-tabs li.tab.active{border-color:#ddd #ddd #ddd #fc6423}}.post-body .tabs ul.nav-tabs li.tab.active a,.tabs-comment ul.nav-tabs li.tab.active a{cursor:default}.post-body .tabs .tab-content,.tabs-comment .tab-content{border:1px solid #ddd;border-radius:0;border-top-color:transparent}@media (max-width:413px){.post-body .tabs .tab-content,.tabs-comment .tab-content{border-radius:0;border-top-color:#ddd}}.post-body .tabs .tab-content .tab-pane,.tabs-comment .tab-content .tab-pane{padding:20px 20px 0}.post-body .tabs .tab-content .tab-pane:not(.active),.tabs-comment .tab-content .tab-pane:not(.active){display:none}.pagination .next,.pagination .page-number,.pagination .prev,.pagination .space{display:inline-block;margin:-1px 10px 0;padding:0 10px}.pagination .page-number.current{background:#ccc;border-color:#ccc;color:var(--content-bg-color)}.pagination{border-top:1px solid #eee;margin:120px 0 0;text-align:left}.pagination .next,.pagination .page-number,.pagination .prev{border-bottom:0;border-top:1px solid #eee;transition:border-color .2s ease-in-out}.pagination .next:hover,.pagination .page-number:hover,.pagination .prev:hover{border-top-color:var(--link-hover-color)}@media (max-width:767px){.post-body .link-grid{grid-template-columns:1fr}.pagination .next,.pagination .page-number,.pagination .prev,.pagination .space{margin:0 5px}.pagination{border-top:0}.pagination .next,.pagination .page-number,.pagination .prev{border-bottom:1px solid #eee;border-top:0}.pagination .next:hover,.pagination .page-number:hover,.pagination .prev:hover{border-bottom-color:var(--link-hover-color)}.site-meta{text-align:center}}.pagination .space{margin:0;padding:0}.comments{margin-top:60px;overflow:hidden}.comment-button-group{display:flex;display:flex;flex-wrap:wrap;justify-content:center;justify-content:center;margin:1em 0}.comment-button-group .comment-button{margin:.1em .2em}.comment-button-group .comment-button.active{background:var(--btn-default-hover-bg);border-color:var(--btn-default-hover-border-color);color:var(--btn-default-hover-color)}.comment-position{display:none}.comment-position.active{display:block}.tabs-comment{margin-top:4em;padding-top:0}.tabs-comment .comments{margin-top:0;padding-top:0}.headband{background:var(--theme-color);height:3px}@media (max-width:991px){.headband{display:none}}.site-brand-container{display:flex;flex-shrink:0;padding:0 10px}.use-motion .column,.use-motion .site-brand-container .toggle{opacity:0}.site-meta{flex-grow:1;text-align:center}.custom-logo-image{margin-top:20px}@media (max-width:991px){.custom-logo-image{display:none}}.brand{border-bottom:0;color:var(--brand-color);display:inline-block;padding:2px 1px}.brand:hover{color:var(--brand-hover-color)}.site-title{font-family:Lato,'PingFang SC','Microsoft YaHei',sans-serif;font-size:1.375em;font-weight:400;line-height:1.5;margin:0}.site-subtitle{color:#999;font-size:.8125em;margin:10px 0}.use-motion .custom-logo-image,.use-motion .site-subtitle,.use-motion .site-title{opacity:0;position:relative;top:-10px}.site-nav-right,.site-nav-toggle{display:none}.site-nav-right .toggle,.site-nav-toggle .toggle{color:var(--text-color);padding:10px;width:22px}.site-nav-right .toggle .toggle-line,.site-nav-toggle .toggle .toggle-line{background:var(--text-color);border-radius:1px}@media (max-width:767px){.site-nav-right,.site-nav-toggle{display:flex;flex-direction:column;justify-content:center}.site-nav{--scroll-height:0;height:0;overflow:hidden;transition:height .2s ease-in-out,visibility .2s ease-in-out;visibility:hidden}body:not(.site-nav-on) .site-nav .animated{animation:none}body.site-nav-on .site-nav{height:var(--scroll-height);visibility:unset}}.menu{margin:0;text-align:center}.menu-item{display:inline-block;list-style:none;margin:0 10px}@media (max-width:767px){.menu-item{display:block;margin-top:10px}.menu-item.menu-item-search{display:none}}.menu-item a{border-bottom:0;display:block;font-size:.8125em;transition:border-color .2s ease-in-out}.menu-item a.menu-item-active,.menu-item a:hover{background:var(--menu-item-bg-color)}.menu-item i[class^=fa]{margin-right:8px}.menu-item .badge{display:inline-block;font-weight:700;line-height:1;margin-left:.35em;margin-top:.35em;text-align:center;white-space:nowrap}.use-motion .menu-item{visibility:hidden}.sidebar-inner{color:#999;padding:18px 10px;text-align:center;display:flex;flex-direction:column;justify-content:center}.cc-license .cc-opacity{border-bottom:0;opacity:.7}.cc-license .cc-opacity:hover{opacity:.9}.cc-license img{display:inline-block}.site-author-image{border:2px solid #333;max-width:96px;padding:2px}.site-author-name{color:#f5f5f5;font-weight:400;margin:5px 0 0}.site-description{color:#999;font-size:1em;margin-top:5px}.links-of-author a{font-size:.8125em}.links-of-author i[class^=fa]{margin-right:2px}.sidebar .sidebar-button:not(:first-child){margin-top:15px}.sidebar .sidebar-button button{background:0 0;color:#fc6423;cursor:pointer;line-height:2;padding:0 15px;border:1px solid #fc6423;border-radius:4px}.sidebar .sidebar-button button:hover{background:#fc6423;color:#fff}.sidebar .sidebar-button button i[class^=fa]{margin-right:5px}.links-of-blogroll{font-size:.8125em}.links-of-blogroll-title{font-size:.875em;font-weight:600}.links-of-blogroll-list{list-style:none;margin:0;padding:0}.sidebar-nav{font-size:.875em;height:0;margin:0;overflow:hidden;padding-left:0;pointer-events:none;transition:height .2s ease-in-out,visibility .2s ease-in-out;visibility:hidden}.sidebar-nav-active .sidebar-nav{height:calc(2em + 1px);pointer-events:unset;visibility:unset}.sidebar-nav li{border-bottom:1px solid transparent;color:#666;cursor:pointer;display:inline-block;transition:border-bottom-color .2s ease-in-out,color .2s ease-in-out}.sidebar-nav li.sidebar-nav-overview{margin-left:10px}.sidebar-nav li:hover{color:#f5f5f5}.sidebar-overview-active .sidebar-nav-overview,.sidebar-toc-active .sidebar-nav-toc{border-bottom-color:#87daff;color:#87daff;transition-delay:0.2s}.sidebar-overview-active .sidebar-nav-overview:hover,.sidebar-toc-active .sidebar-nav-toc:hover{color:#87daff}.sidebar-panel-container{align-items:start;display:grid;flex:1;overflow-x:hidden;overflow-y:auto;padding-top:0;transition:padding-top .2s ease-in-out}.sidebar-nav-active .sidebar-panel-container{padding-top:20px}.sidebar-panel{animation:.2s ease-in-out deactivate-sidebar-panel;grid-area:1/1;height:0;opacity:0;overflow:hidden;pointer-events:none;transform:translateY(0);transition:.2s ease-in-out;transition-property:opacity,transform,visibility;visibility:hidden}.sidebar-nav-active .sidebar-panel,.sidebar-overview-active .sidebar-panel.post-toc-wrap{transform:translateY(-20px)}.sidebar-overview-active:not(.sidebar-nav-active) .sidebar-panel.post-toc-wrap{transition-delay:0s,0.2s,0s}.sidebar-overview-active .sidebar-panel.site-overview-wrap,.sidebar-toc-active .sidebar-panel.post-toc-wrap{animation-name:activate-sidebar-panel;height:auto;opacity:1;pointer-events:unset;transform:translateY(0);transition-delay:0.2s,0.2s,0s;visibility:unset}.sidebar-panel.site-overview-wrap{display:flex;flex-direction:column;justify-content:center;gap:10px;justify-content:flex-start}@keyframes deactivate-sidebar-panel{from{height:var(--inactive-panel-height,0)}to{height:var(--active-panel-height,0)}}@keyframes activate-sidebar-panel{from{height:var(--inactive-panel-height,auto)}to{height:var(--active-panel-height,auto)}}.sidebar-toggle{bottom:61px;height:16px;padding:5px;width:16px;background:#222;cursor:pointer;opacity:.8;position:fixed;z-index:30;right:30px}.sidebar-toggle:hover{opacity:1}@media (max-width:991px){.sidebar-toggle{right:20px;opacity:1}}.sidebar-toggle:hover .toggle-line{background:#87daff}@media (any-hover:hover){body:not(.sidebar-active) .sidebar-toggle:hover :first-child{top:2px;transform:rotate(-45deg);width:50%}body:not(.sidebar-active) .sidebar-toggle:hover :last-child{top:-2px;transform:rotate(45deg);width:50%}}.sidebar-active .sidebar-toggle :nth-child(2){opacity:0}.sidebar-active .sidebar-toggle :first-child{top:6px;transform:rotate(-45deg)}.sidebar-active .sidebar-toggle :last-child{top:-6px;transform:rotate(45deg)}.post-toc{font-size:.875em}.post-toc ol{list-style:none;margin:0;padding:0 2px 0 10px;text-align:left}.post-toc ol>:last-child{margin-bottom:5px}.post-toc ol>ol{padding-left:0}.post-toc ol a{transition:.2s ease-in-out}.post-toc .nav-item{line-height:1.8;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.post-toc .nav .nav-child{--height:0;height:0;opacity:0;overflow:hidden;transition:.2s ease-in-out;visibility:hidden}.post-toc .nav .active>.nav-child{height:var(--height,auto);opacity:1;visibility:unset}.post-toc .nav .active>a{border-bottom-color:#87daff;color:#87daff}.post-toc .nav .active-current>a,.post-toc .nav .active-current>a:hover{color:#87daff}.site-state{display:flex;flex-wrap:wrap;justify-content:center;line-height:1.4}.site-state-item{padding:0 15px}.site-state-item a{border-bottom:0;display:block}.site-state-item-count{display:block;font-size:1.25em;font-weight:600}.site-state-item-name{color:inherit;font-size:.875em}.footer{color:#999;font-size:.875em;transition:left .2s ease-in-out,right .2s ease-in-out}.footer.footer-fixed{bottom:0;left:0;position:absolute;right:0}.footer-inner{box-sizing:border-box;text-align:left;display:flex;flex-direction:column;justify-content:center;margin:0 auto;width:700px}@media (max-width:767px){.menu-item .badge{float:right;margin-left:0}.footer-inner{width:auto}}@media (min-width:1200px){.footer-inner{width:800px}}@media (min-width:1600px){.footer-inner{width:900px}}.use-motion .footer{opacity:0}.languages{display:inline-block;font-size:1.125em;position:relative}.languages .lang-select-label span{margin:0 .5em}.languages .lang-select{height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}.with-love{color:red;display:inline-block;margin:0 5px;animation:1.33s ease-in-out infinite icon-animate}@keyframes icon-animate{0%,100%{transform:scale(1)}10%,30%{transform:scale(.9)}20%,40%,50%,60%,70%,80%{transform:scale(1.1)}}@media (max-width:567px){.main-inner{padding:initial!important}.posts-expand .post-header{margin-bottom:10px!important}.post-block{margin-top:initial!important;padding:8px 18px!important}.post-body h1,.post-body h2,.post-body h3,.post-body h4,.post-body h5,.post-body h6{margin:20px 0 8px}.post-body .note h1,.post-body .note h2,.post-body .note h3,.post-body .note h4,.post-body .note h5,.post-body .note h6,.post-body .tabs .tab-content .tab-pane h1,.post-body .tabs .tab-content .tab-pane h2,.post-body .tabs .tab-content .tab-pane h3,.post-body .tabs .tab-content .tab-pane h4,.post-body .tabs .tab-content .tab-pane h5,.post-body .tabs .tab-content .tab-pane h6{margin:0 5px}.post-body>p{margin:0 0 10px}.post-body .note>p,.post-body .tabs .tab-content .tab-pane>p{padding:0 5px}.post-body img,.post-body video{margin-bottom:10px!important}.post-body .fancybox+figcaption,.post-body img+figcaption{margin:-5px auto 15px!important}.post-body .note{margin-bottom:10px!important;padding:10px!important}.post-body .tabs .tab-content .tab-pane{padding:10px 10px 0!important}.post-eof{margin:40px auto 20px!important}.pagination{margin-top:40px}}.back-to-top{font-size:12px;align-items:center;bottom:-100px;color:#fff;display:flex;height:26px;transition:bottom .2s ease-in-out;background:#222;cursor:pointer;opacity:.8;position:fixed;z-index:30;right:30px}.back-to-top span{margin-right:8px;display:none}.back-to-top .fa{text-align:center;width:26px}.back-to-top:hover{opacity:1;color:#87daff}.back-to-top.back-to-top-on{bottom:30px}.rtl.post-body a,.rtl.post-body h1,.rtl.post-body h2,.rtl.post-body h3,.rtl.post-body h4,.rtl.post-body h5,.rtl.post-body h6,.rtl.post-body li,.rtl.post-body ol,.rtl.post-body p,.rtl.post-body ul{direction:rtl;font-family:UKIJ Ekran}.rtl.post-title{font-family:UKIJ Ekran}.post-button{text-align:left}.use-motion .collection-header,.use-motion .comments,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{visibility:hidden}.posts-collapse .post-content{margin-bottom:35px;margin-left:35px;position:relative}@media (max-width:767px){.posts-collapse .post-content{margin-left:0;margin-right:0}}.posts-collapse .post-content .collection-title{font-size:1.125em;position:relative}.posts-collapse .post-content .collection-title::before{background:#999;border:1px solid #fff;margin-left:-6px;margin-top:-4px;position:absolute;top:50%;border-radius:50%;content:' ';height:10px;width:10px}.posts-collapse .post-content .collection-year{font-size:1.5em;font-weight:700;margin:60px 0;position:relative}.posts-collapse .post-content .collection-year::before{background:#bbb;margin-left:-4px;margin-top:-4px;position:absolute;top:50%;border-radius:50%;content:' ';height:8px;width:8px}.posts-collapse .post-content .collection-header{display:block;margin-left:20px}.posts-collapse .post-content .collection-header small{color:#bbb;margin-left:5px}.posts-collapse .post-content .post-header{border-bottom:1px dashed #ccc;margin:30px 2px 0;padding-left:15px;position:relative;transition:border .2s ease-in-out}.posts-collapse .post-content .post-header::before{background:#bbb;border:1px solid #fff;left:-6px;position:absolute;top:.75em;transition:background .2s ease-in-out;border-radius:50%;content:' ';height:6px;width:6px}.posts-collapse .post-content .post-header:hover{border-bottom-color:#666}.posts-collapse .post-content .post-header:hover::before{background:#222}.posts-collapse .post-content .post-meta-container{display:inline;font-size:.75em;margin-right:10px}.posts-collapse .post-content .post-title{display:inline}.posts-collapse .post-content .post-title a{border-bottom:0;color:var(--link-color)}.posts-collapse .post-content::before{background:#f5f5f5;content:' ';height:100%;margin-left:-2px;position:absolute;top:1.25em;width:4px}.post-body{font-family:Lato,'PingFang SC','Microsoft YaHei',sans-serif;overflow-wrap:break-word}@media (min-width:1200px){.post-body{font-size:1.125em}}@media (min-width:992px){.post-body{text-align:justify}}.post-body h1 .header-anchor,.post-body h1 .headerlink,.post-body h2 .header-anchor,.post-body h2 .headerlink,.post-body h3 .header-anchor,.post-body h3 .headerlink,.post-body h4 .header-anchor,.post-body h4 .headerlink,.post-body h5 .header-anchor,.post-body h5 .headerlink,.post-body h6 .header-anchor,.post-body h6 .headerlink{border-bottom-style:none;color:inherit;float:right;font-size:.875em;margin-left:10px;opacity:0}.post-body h1 .header-anchor::before,.post-body h1 .headerlink::before,.post-body h2 .header-anchor::before,.post-body h2 .headerlink::before,.post-body h3 .header-anchor::before,.post-body h3 .headerlink::before,.post-body h4 .header-anchor::before,.post-body h4 .headerlink::before,.post-body h5 .header-anchor::before,.post-body h5 .headerlink::before,.post-body h6 .header-anchor::before,.post-body h6 .headerlink::before{content:'\f0c1';font-family:'Font Awesome 6 Free';font-weight:900}.post-body h1:hover .header-anchor,.post-body h1:hover .headerlink,.post-body h2:hover .header-anchor,.post-body h2:hover .headerlink,.post-body h3:hover .header-anchor,.post-body h3:hover .headerlink,.post-body h4:hover .header-anchor,.post-body h4:hover .headerlink,.post-body h5:hover .header-anchor,.post-body h5:hover .headerlink,.post-body h6:hover .header-anchor,.post-body h6:hover .headerlink{opacity:.5}.post-body h1:hover .header-anchor:hover,.post-body h1:hover .headerlink:hover,.post-body h2:hover .header-anchor:hover,.post-body h2:hover .headerlink:hover,.post-body h3:hover .header-anchor:hover,.post-body h3:hover .headerlink:hover,.post-body h4:hover .header-anchor:hover,.post-body h4:hover .headerlink:hover,.post-body h5:hover .header-anchor:hover,.post-body h5:hover .headerlink:hover,.post-body h6:hover .header-anchor:hover,.post-body h6:hover .headerlink:hover{opacity:1}.post-body .exturl .fa{font-size:.875em;margin-left:4px}.post-body .fancybox+figcaption,.post-body img+figcaption{color:#999;font-size:.875em;font-weight:700;line-height:1;margin:-15px auto 15px;text-align:center}.post-body embed,.post-body iframe,.post-body img,.post-body video{margin-bottom:20px}.post-body .video-container{height:0;margin-bottom:20px;overflow:hidden;padding-top:75%;position:relative;width:100%}.post-body .video-container embed,.post-body .video-container iframe,.post-body .video-container object{height:100%;left:0;margin:0;position:absolute;top:0;width:100%}.post-gallery{display:flex;min-height:200px}.post-gallery .post-gallery-image{flex:1}.post-gallery .post-gallery-image:not(:first-child){clip-path:polygon(40px 0,100% 0,100% 100%,0 100%);margin-left:-20px}.post-gallery .post-gallery-image:not(:last-child){margin-right:-20px}.post-gallery .post-gallery-image img{height:100%;object-fit:cover;opacity:1;width:100%}.posts-expand .post-gallery{margin-bottom:60px}.posts-collapse .post-gallery{margin:15px 0}.posts-expand .post-header{font-size:1.125em;text-align:center}.posts-expand .post-title{font-size:1.5em;font-weight:400;margin:initial;overflow-wrap:break-word}.posts-expand .post-title-link{border-bottom:0;color:var(--link-color);display:inline-block;position:relative}.posts-expand .post-title-link::before{background:var(--link-color);bottom:0;content:'';height:2px;left:0;position:absolute;transform:scaleX(0);transition:transform .2s ease-in-out;width:100%}.posts-expand .post-title-link:hover::before{transform:scaleX(1)}.posts-expand .post-title-link .fa{font-size:.875em;margin-left:5px}.post-sticky-flag{display:inline-block;margin-right:8px;transform:rotate(30deg)}.posts-expand .post-meta-container{color:#999;font-family:Lato,'PingFang SC','Microsoft YaHei',sans-serif;font-size:.75em;margin-top:3px}.posts-expand .post-meta-container .post-description{font-size:.875em;margin-top:2px}.posts-expand .post-meta-container time{border-bottom:1px dashed #999}.post-meta{display:flex;flex-wrap:wrap;justify-content:center}:not(.post-meta-break)+.post-meta-item::before{content:'|';margin:0 .5em}.post-meta-item-icon{margin-right:3px}@media (max-width:991px){.back-to-top{right:20px;opacity:1}.post-body{text-align:justify}.post-meta-item-text{display:none}}.post-meta-break{flex-basis:100%;height:0}.post-nav{border-top:1px solid #eee;display:flex;gap:30px;justify-content:space-between;margin-top:1em;padding:10px 5px 0}.post-nav-item{flex:1}.post-nav-item a{border-bottom:0;display:block;font-size:.875em;line-height:1.6}.post-nav-item a:active{top:2px}.post-nav-item .fa{font-size:.75em}.post-nav-item:first-child .fa{margin-right:5px}.post-nav-item:last-child{text-align:right}.post-nav-item:last-child .fa{margin-left:5px}.post-footer{display:flex;flex-direction:column;justify-content:center}.post-eof{background:#ccc;height:1px;margin:80px auto 60px;width:8%}.post-block:last-of-type .post-eof{display:none}.post-tags{margin-top:40px;text-align:left}.post-tags a{display:inline-block;font-size:.8125em}.post-tags a:not(:last-child){margin-right:10px}.social-like{border-top:1px solid #eee;font-size:.875em;margin-top:1em;padding-top:1em;display:flex;flex-wrap:wrap;justify-content:center}.social-like a{border-bottom:none}.reward-container{margin:1em 0 0;padding:1em 0;text-align:center}.reward-container button{background:0 0;color:#87daff;cursor:pointer;line-height:2;padding:0 15px;border:2px solid #87daff;border-radius:2px;outline:0;transition:.2s ease-in-out;vertical-align:text-top}.reward-container button:hover{background:#87daff;color:#fff}.post-reward{display:none;padding-top:20px}.post-reward.active{display:block}.post-reward div{display:inline-block}.post-reward div span{display:block}.post-reward img{display:inline-block;margin:.8em 2em 0;max-width:100%;width:180px}@keyframes next-roll{from{transform:rotateZ(30deg)}to{transform:rotateZ(-30deg)}}.category-all-page .category-all-title{text-align:center}.category-all-page .category-all{margin-top:20px}.category-all-page .category-list{list-style:none;margin:0;padding:0}.category-all-page .category-list-item{margin:5px 10px}.category-all-page .category-list-count{color:#bbb}.category-all-page .category-list-count::before{content:' ('}.category-all-page .category-list-count::after{content:') '}.category-all-page .category-list-child{padding-left:10px}.event-list hr{background:#222;margin:20px 0 45px}.event-list hr::after{background:#222;color:#fff;content:'NOW';display:inline-block;font-weight:700;padding:0 5px}.event-list .event{--event-background:#222;--event-foreground:#bbb;--event-title:#fff;background:var(--event-background);padding:15px}.event-list .event .event-summary{border-bottom:0;color:var(--event-title);margin:0;padding:0 0 0 35px;position:relative}.event-list .event .event-summary::before{animation:1s ease-in-out infinite alternate dot-flash;background:var(--event-title);left:0;margin-top:-6px;position:absolute;top:50%;border-radius:50%;content:' ';height:12px;width:12px}.event-list .event:nth-of-type(odd) .event-summary::before{animation-delay:.5s}.event-list .event:not(:last-child){margin-bottom:20px}.event-list .event .event-relative-time{color:var(--event-foreground);display:inline-block;font-size:12px;font-weight:400;padding-left:12px}.event-list .event .event-details{color:var(--event-foreground);display:block;line-height:18px;padding:6px 0 6px 35px}.event-list .event .event-details::before{color:var(--event-foreground);display:inline-block;margin-right:9px;width:14px;font-family:'Font Awesome 6 Free';font-weight:900}.event-list .event .event-details.event-location::before{content:'\f041'}.event-list .event .event-details.event-duration::before{content:'\f017'}.event-list .event .event-details.event-description::before{content:'\f024'}.event-list .event-past{--event-background:#f5f5f5;--event-foreground:#999;--event-title:#222}@keyframes dot-flash{from{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}ul.breadcrumb{font-size:.75em;list-style:none;margin:1em 0;padding:0 2em;text-align:center}ul.breadcrumb li{display:inline}ul.breadcrumb li:not(:first-child)::before{content:'/\00a0';font-weight:400;padding:.5em}ul.breadcrumb li:last-child{font-weight:700}.tag-cloud{text-align:center}.tag-cloud a{display:inline-block;margin:10px}.tag-cloud-0{border-bottom-color:#aaa;color:#aaa}.tag-cloud-1{border-bottom-color:#9a9a9a;color:#9a9a9a}.tag-cloud-2{border-bottom-color:#8b8b8b;color:#8b8b8b}.tag-cloud-3{border-bottom-color:#7c7c7c;color:#7c7c7c}.tag-cloud-4{border-bottom-color:#6c6c6c;color:#6c6c6c}.tag-cloud-5{border-bottom-color:#5d5d5d;color:#5d5d5d}.tag-cloud-6{border-bottom-color:#4e4e4e;color:#4e4e4e}.tag-cloud-7{border-bottom-color:#3e3e3e;color:#3e3e3e}.tag-cloud-8{border-bottom-color:#2f2f2f;color:#2f2f2f}.tag-cloud-9{border-bottom-color:#202020;color:#202020}.tag-cloud-10{border-bottom-color:#111;color:#111}.search-active{overflow:hidden}.search-pop-overlay{background:rgba(0,0,0,0);display:flex;height:100%;left:0;position:fixed;top:0;transition:visibility .4s,background .4s;visibility:hidden;width:100%;z-index:40}.search-active .search-pop-overlay{background:rgba(0,0,0,.3);visibility:visible}.search-popup{background:var(--card-bg-color);border-radius:5px;height:80%;margin:auto;transform:scale(0);transition:transform .4s;width:700px}.search-active .search-popup{transform:scale(1)}@media (max-width:767px){.search-popup{border-radius:0;height:100%;width:100%}.pagination{margin:80px 0 0;text-align:center}}.search-popup .popup-btn-close,.search-popup .search-icon{color:#999;font-size:18px;padding:0 10px}.search-popup .popup-btn-close{cursor:pointer}.search-popup .popup-btn-close:hover .fa{color:#222}.search-popup .search-header{background:#eee;border-top-left-radius:5px;border-top-right-radius:5px;display:flex;padding:5px}@media (prefers-color-scheme:dark){.tag-cloud-0{border-bottom-color:#555;color:#555}.tag-cloud-1{border-bottom-color:#646464;color:#646464}.tag-cloud-2{border-bottom-color:#737373;color:#737373}.tag-cloud-3{border-bottom-color:#828282;color:#828282}.tag-cloud-4{border-bottom-color:#929292;color:#929292}.tag-cloud-5{border-bottom-color:#a1a1a1;color:#a1a1a1}.tag-cloud-6{border-bottom-color:#b0b0b0;color:#b0b0b0}.tag-cloud-7{border-bottom-color:silver;color:silver}.tag-cloud-8{border-bottom-color:#cfcfcf;color:#cfcfcf}.tag-cloud-9{border-bottom-color:#dedede;color:#dedede}.tag-cloud-10{border-bottom-color:#eee;color:#eee}.search-popup .search-header{background:#666}}.search-popup input.search-input{background:0 0;border:0;outline:0;width:100%}.search-popup input.search-input::-webkit-search-cancel-button{display:none}.search-popup .search-result-container{height:calc(100% - 55px);overflow:auto;padding:5px 25px}.search-popup .search-result-container hr{margin:5px 0 10px}.search-popup .search-result-container hr:first-child{display:none}.search-popup .search-result-list{margin:0 5px;padding:0;width:100%}.search-popup a.search-result-title{font-weight:700}.search-popup p.search-result{border-bottom:1px dashed #ccc;padding:5px 0}.search-popup .search-input-container{flex-grow:1;padding:2px}.search-popup .no-result{display:flex}.search-popup .search-result-icon{color:#ccc;margin:auto}mark.search-keyword{background:0 0;border-bottom:1px dashed #ff2a2a;color:#ff2a2a;font-weight:700}.use-motion .animated{animation-fill-mode:none;visibility:inherit}.use-motion .sidebar .animated{animation-fill-mode:both}hr{height:2px;margin:20px 0}.btn{padding:0 10px}.headband{display:none}.footer{background:var(--content-bg-color);color:var(--text-color);padding:10px 0}.column{background:var(--content-bg-color)}header.header{align-items:center;display:flex;padding:20px 0;margin:0 auto;width:700px}.site-meta{line-height:normal}.site-meta .site-title{font-weight:bolder}.logo-line{background:var(--brand-color);display:block;height:2px;margin:0 auto;width:75%}.use-motion .logo-line:first-of-type{transform:scaleX(0);transform-origin:left}.use-motion .logo-line:last-of-type{transform:scaleX(0);transform-origin:right}.site-subtitle{display:none}.site-nav{flex-grow:1}@media (max-width:767px){.footer-inner{text-align:center}header.header{display:block;padding:10px 0}.site-meta .brand{display:block}.logo-line{display:none}.site-nav{padding:0 10px}.main-menu{padding-top:10px}}.menu{padding:0}.menu .menu-item{margin:0}.menu .menu-item a{border-radius:2px;padding:0 10px;transition-property:background}.menu .menu-item .badge{background:#fff;border-radius:10px;color:#555;padding:1px 4px;text-shadow:1px 1px 0 rgba(0,0,0,.1)}.posts-expand.index .post-header{text-align:left}.posts-expand.index .post-meta-container{margin-top:5px}.posts-expand.index .post-meta{justify-content:flex-start}@media (max-width:767px){.menu .menu-item{margin-top:5px}.menu .menu-item a{text-align:left}.posts-expand.index .post-header{text-align:center}.posts-expand.index .post-meta{justify-content:center}header.header{width:auto}}.posts-expand .post-eof{display:none}.posts-expand .post-block:not(:first-of-type){margin-top:120px}.posts-expand .post-header{margin-bottom:20px}.posts-expand .post-tags a{background:var(--content-bg-color);border-bottom:0;padding:1px 5px}.posts-expand .post-tags a:hover{background:var(--menu-item-bg-color)}.posts-expand .post-nav{margin-top:40px}.post-button{margin-top:20px}.post-button .btn{background:0 0;border:0;border-bottom:2px solid var(--btn-default-border-color);padding:0;transition-property:border}.post-button .btn:hover{border-bottom-color:var(--btn-default-hover-border-color)}@media (min-width:1200px){header.header{width:800px}}.main-inner{margin:0 auto;width:700px;padding-bottom:80px}@media (max-width:767px){.main-inner{width:auto;padding-left:20px;padding-right:20px}}@media (min-width:1200px){.main-inner{width:800px}}@media (min-width:1600px){.main-inner,header.header{width:900px}}.post-block:first-of-type{padding-top:80px}@media (max-width:767px){.post-block:first-of-type{padding-top:60px}}@media (min-width:1200px){.sidebar-active{padding-right:320px}.sidebar-active .footer-fixed{right:320px}.sidebar-dimmer{display:none}}.sidebar{right:-320px;background:#222;bottom:0;box-shadow:inset 0 2px 6px #000;max-height:100vh;overflow-y:auto;position:fixed;top:0;transition:.2s ease-out;width:320px;z-index:20}.sidebar-active .sidebar{right:0}.sidebar a{border-bottom-color:#555;color:#999}.sidebar a:hover{border-bottom-color:#eee;color:#eee}.links-of-author:not(:first-child){margin-top:15px}.links-of-author a{border-bottom-color:#555;display:inline-block;margin-bottom:10px;margin-right:10px;vertical-align:middle}.links-of-author a::before{background:#f01329;display:inline-block;margin-right:3px;transform:translateY(-2px);border-radius:50%;content:' ';height:4px;width:4px}.links-of-blogroll-item{padding:2px 10px}.links-of-blogroll-item a{box-sizing:border-box;display:inline-block;max-width:280px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.popular-posts .popular-posts-item .popular-posts-link:hover{background:0 0}.sidebar-dimmer{background:#000;height:100%;left:0;opacity:0;position:fixed;top:0;transition:visibility .4s,opacity .4s;visibility:hidden;width:100%;z-index:10}.sidebar-active .sidebar-dimmer{opacity:.7;visibility:visible}.sub-menu{margin:10px 0}.sub-menu .menu-item{display:inline-block}.giscus{max-width:unset;box-sizing:border-box}</style><link href=https://fonts.geekzu.org/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext rel=stylesheet><link as=style href=https://fastly.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css onload=this.rel='stylesheet' rel=preload><link crossorigin href=https://fastly.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css integrity=sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE= rel=stylesheet><script class=next-config data-name=main type=application/json>{"hostname":"liupeicheng.top","root":"/","images":"/images","scheme":"Mist","darkmode":true,"version":"8.18.1","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":true,"style":null},"fold":{"enable":true,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src=/js/config.js></script><meta content="题目详单见 [kuangbin带你飞]专题1-23。算法介绍见 最短路 - OI Wiki。 POJ-2387 Til the Cows Come Home求最短路，方法参见 最短路 - OI Wiki。" name=description><meta content=article property=og:type><meta content="kuangbin 专题四 最短路练习" property=og:title><meta content=https://liupeicheng.top/kuangbin/kuangbin-%E4%B8%93%E9%A2%98%E5%9B%9B-%E6%9C%80%E7%9F%AD%E8%B7%AF%E7%BB%83%E4%B9%A0/index.html property=og:url><meta content="Shawn's Blog" property=og:site_name><meta content="题目详单见 [kuangbin带你飞]专题1-23。算法介绍见 最短路 - OI Wiki。 POJ-2387 Til the Cows Come Home求最短路，方法参见 最短路 - OI Wiki。" property=og:description><meta content=en_US property=og:locale><meta content=2023-08-06T23:13:45.000Z property=article:published_time><meta content=2023-10-05T16:33:15.921Z property=article:modified_time><meta content=Shawn property=article:author><meta content=最短路 property=article:tag><meta content=kuangbin property=article:tag><meta content=summary name=twitter:card><link href=https://liupeicheng.top/kuangbin/kuangbin-%E4%B8%93%E9%A2%98%E5%9B%9B-%E6%9C%80%E7%9F%AD%E8%B7%AF%E7%BB%83%E4%B9%A0/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://liupeicheng.top/kuangbin/kuangbin-%E4%B8%93%E9%A2%98%E5%9B%9B-%E6%9C%80%E7%9F%AD%E8%B7%AF%E7%BB%83%E4%B9%A0/","path":"kuangbin/kuangbin-专题四-最短路练习/","title":"kuangbin 专题四 最短路练习"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>kuangbin 专题四 最短路练习 | Shawn's Blog</title><noscript><link href=/css/noscript.css rel=stylesheet></noscript><script src=https://code.bdstatic.com/npm/pjax@0.2.8/pjax.min.js></script><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}</style><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label="Toggle navigation bar" class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <p class=site-title>Shawn's Blog</p> <i class=logo-line></i> </a></div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=Search role=button><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>Home</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>Tags</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>Categories</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>Archives</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>Search </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input maxlength=80 placeholder=Searching... spellcheck=false type=search></div><span class=popup-btn-close role=button> <i class="fa fa-times-circle"></i> </span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>Table of Contents<li class=sidebar-nav-overview>Overview</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-2387-Til-the-Cows-Come-Home><span class=nav-number>1.</span> <span class=nav-text>POJ-2387 Til the Cows Come Home</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-2253-Frogger><span class=nav-number>2.</span> <span class=nav-text>POJ-2253 Frogger</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-1797-Heavy-Transportation><span class=nav-number>3.</span> <span class=nav-text>POJ-1797 Heavy Transportation</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-3268-Silver-Cow-Party><span class=nav-number>4.</span> <span class=nav-text>POJ-3268 Silver Cow Party</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-1860-Currency-Exchange><span class=nav-number>5.</span> <span class=nav-text>POJ-1860 Currency Exchange</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-3259-Wormholes><span class=nav-number>6.</span> <span class=nav-text>POJ-3259 Wormholes</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-1502-MPI-Maelstrom><span class=nav-number>7.</span> <span class=nav-text>POJ-1502 MPI Maelstrom</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-3660-Cow-Contest><span class=nav-number>8.</span> <span class=nav-text>POJ-3660 Cow Contest</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-2240-Arbitrage><span class=nav-number>9.</span> <span class=nav-text>POJ-2240 Arbitrage</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-1511-Invitation-Cards><span class=nav-number>10.</span> <span class=nav-text>POJ-1511 Invitation Cards</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-3159-Candies><span class=nav-number>11.</span> <span class=nav-text>POJ-3159 Candies</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-2502-Subway><span class=nav-number>12.</span> <span class=nav-text>POJ-2502 Subway</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-1062-%E6%98%82%E8%B4%B5%E7%9A%84%E8%81%98%E7%A4%BC><span class=nav-number>13.</span> <span class=nav-text>POJ-1062 昂贵的聘礼</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-1847-Tram><span class=nav-number>14.</span> <span class=nav-text>POJ-1847 Tram</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#LightOJ-1074-Extended-Traffic><span class=nav-number>15.</span> <span class=nav-text>LightOJ-1074 Extended Traffic</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#HDU-4725-The-Shortest-Path-in-Nya-Graph><span class=nav-number>16.</span> <span class=nav-text>HDU-4725 The Shortest Path in Nya Graph</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#HDU-3416-Marriage-Match-IV><span class=nav-number>17.</span> <span class=nav-text>HDU-3416 Marriage Match IV</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#HDU-4370-0-or-1><span class=nav-number>18.</span> <span class=nav-text>HDU-4370 0 or 1</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#POJ-3169-Layout><span class=nav-number>19.</span> <span class=nav-text>POJ-3169 Layout</span></a></ol></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><p class=site-author-name itemprop=name>Shawn<div class=site-description itemprop=description>若有恒，何必三更眠五更起；最无益，莫过一日曝十日寒。</div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>388</span> <span class=site-state-item-name>posts</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>13</span> <span class=site-state-item-name>categories</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/> <span class=site-state-item-count>112</span> <span class=site-state-item-name>tags</span></a></div></nav></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article lang=en><link href=https://liupeicheng.top/kuangbin/kuangbin-%E4%B8%93%E9%A2%98%E5%9B%9B-%E6%9C%80%E7%9F%AD%E8%B7%AF%E7%BB%83%E4%B9%A0/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=/images/avatar.gif itemprop=image> <meta content=Shawn itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Shawn's Blog" itemprop=name> <meta content=若有恒，何必三更眠五更起；最无益，莫过一日曝十日寒。 itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="kuangbin 专题四 最短路练习 | Shawn's Blog" itemprop=name> <meta itemprop=description> </span><header class=post-header><h1 itemprop="name headline" class=post-title>kuangbin 专题四 最短路练习</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>Posted on</span> <time itemprop="dateCreated datePublished" title="Created: 2023-08-06 23:13:45" datetime=2023-08-06T23:13:45+00:00>2023-08-06</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>Edited on</span> <time title="Modified: 2023-10-05 16:33:15" datetime=2023-10-05T16:33:15+00:00 itemprop=dateModified>2023-10-05</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>In</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/kuangbin/ itemprop=url rel=index><span itemprop=name>kuangbin</span></a> </span> </span></div></div></header><div class=post-body itemprop=articleBody><p>题目详单见 <a href=https://vjudge.net/article/187 rel=noopener target=_blank>[kuangbin带你飞]专题1-23</a>。<br>算法介绍见 <a href=https://oi-wiki.org/graph/shortest-path/ rel=noopener target=_blank>最短路 - OI Wiki</a>。<h3 id=POJ-2387-Til-the-Cows-Come-Home><a title="POJ-2387 Til the Cows Come Home" class=headerlink href=#POJ-2387-Til-the-Cows-Come-Home></a>POJ-2387 Til the Cows Come Home</h3><p>求最短路，方法参见 <a href=https://oi-wiki.org/graph/shortest-path/ rel=noopener target=_blank>最短路 - OI Wiki</a>。</p><span id=more></span><div class=tabs id=poj-2387><ul class=nav-tabs><li class=tab><a href=#poj-2387-1>DFS(TLE)</a><li class="tab active"><a href=#poj-2387-2>Dijkstra</a></ul><div class=tab-content><div class=tab-pane id=poj-2387-1><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>1001</span>, M = <span class=number>4002</span>;</span><br><span class=line><span class=type>int</span> t, n, ans = <span class=number>0x3f3f3f3f</span>;</span><br><span class=line><span class=type>int</span> h[N], e[M], ne[M], w[M], idx;</span><br><span class=line><span class=type>bool</span> st[N];</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>add</span><span class=params>(<span class=type>int</span> u, <span class=type>int</span> v, <span class=type>int</span> ww)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    e[++idx] = v, w[idx] = ww, ne[idx] = h[u], h[u] = idx;</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>dfs</span><span class=params>(<span class=type>int</span> u, <span class=type>int</span> c)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>if</span> (c >= ans)</span><br><span class=line>        <span class=keyword>return</span>;</span><br><span class=line>    <span class=keyword>if</span> (u == <span class=number>1</span>)</span><br><span class=line>    {</span><br><span class=line>        ans = c;</span><br><span class=line>        <span class=keyword>return</span>;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = h[u]; i; i = ne[i])</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> v = e[i];</span><br><span class=line>        <span class=keyword>if</span> (st[v])</span><br><span class=line>            <span class=keyword>continue</span>;</span><br><span class=line>        st[v] = <span class=number>1</span>;</span><br><span class=line>        <span class=built_in>dfs</span>(v, c + w[i]);</span><br><span class=line>        st[v] = <span class=number>0</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    cin >> t >> n;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>, a, b, c; i < t; ++i)</span><br><span class=line>    {</span><br><span class=line>        cin >> a >> b >> c;</span><br><span class=line>        <span class=built_in>add</span>(a, b, c), <span class=built_in>add</span>(b, a, c);</span><br><span class=line>    }</span><br><span class=line>    st[n] = <span class=number>1</span>;</span><br><span class=line>    <span class=built_in>dfs</span>(n, <span class=number>0</span>);</span><br><span class=line>    cout << ans << endl;</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure></div><div class="tab-pane active" id=poj-2387-2><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTqueue></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>1001</span>, M = <span class=number>4002</span>;</span><br><span class=line><span class=type>int</span> t, n, ans = <span class=number>0x3f3f3f3f</span>;</span><br><span class=line><span class=type>int</span> h[N], e[M], ne[M], w[M], idx;</span><br><span class=line><span class=type>int</span> dist[N];</span><br><span class=line><span class=type>bool</span> st[N];</span><br><span class=line><span class=keyword>struct</span> <span class="title class_">node</span></span><br><span class=line>{</span><br><span class=line>    <span class=type>int</span> d, u;</span><br><span class=line>    <span class=type>bool</span> <span class=keyword>operator</span>>(<span class=type>const</span> node &a) <span class=type>const</span> { <span class=keyword>return</span> d > a.d; }</span><br><span class=line>};</span><br><span class=line>priority_queue&LTnode, vector&LTnode>, greater&LTnode> > q;</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>add</span><span class=params>(<span class=type>int</span> u, <span class=type>int</span> v, <span class=type>int</span> ww)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    e[++idx] = v, w[idx] = ww, ne[idx] = h[u], h[u] = idx;</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>dijkstra</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>memset</span>(dist, <span class=number>0x3f</span>, <span class=keyword>sizeof</span> dist);</span><br><span class=line>    dist[n] = <span class=number>0</span>;</span><br><span class=line>    q.<span class=built_in>push</span>({<span class=number>0</span>, n});</span><br><span class=line>    <span class=keyword>while</span> (!q.<span class=built_in>empty</span>())</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> u = q.<span class=built_in>top</span>().u;</span><br><span class=line>        q.<span class=built_in>pop</span>();</span><br><span class=line>        <span class=keyword>if</span> (st[u])</span><br><span class=line>            <span class=keyword>continue</span>;</span><br><span class=line>        st[u] = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = h[u]; i; i = ne[i])</span><br><span class=line>        {</span><br><span class=line>            <span class=type>int</span> v = e[i];</span><br><span class=line>            <span class=keyword>if</span> (dist[v] > dist[u] + w[i])</span><br><span class=line>                q.<span class=built_in>push</span>({dist[v] = dist[u] + w[i], v});</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    cin >> t >> n;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>, a, b, c; i < t; ++i)</span><br><span class=line>    {</span><br><span class=line>        cin >> a >> b >> c;</span><br><span class=line>        <span class=built_in>add</span>(a, b, c), <span class=built_in>add</span>(b, a, c);</span><br><span class=line>    }</span><br><span class=line>    <span class=built_in>dijkstra</span>();</span><br><span class=line>    cout << dist[<span class=number>1</span>] << endl;</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure></div></div></div><h3 id=POJ-2253-Frogger><a title="POJ-2253 Frogger" class=headerlink href=#POJ-2253-Frogger></a>POJ-2253 Frogger</h3><p>极小化极大值，可以用最短路算法，需改更改松弛操作函数，从经典的 <code>f[x][y] = min(f[x][y], f[x][k]+f[k][y])</code> 转为 <code>f[i][j] = min(f[i][j], max(f[i][k], f[k][j]))</code>。本题也可以用<a href=https://oi-wiki.org/graph/mst/ rel=noopener target=_blank>最小生成树</a>算法。需要注意初始值大小，以及比较函数，与下一题相映照。<div class=tabs id=poj-2253><ul class=nav-tabs><li class=tab><a href=#poj-2253-1>最短路-Floyd</a><li class="tab active"><a href=#poj-2253-2>最短路-Dijkstra</a><li class=tab><a href=#poj-2253-3>最小生成树-Kruskal</a></ul><div class=tab-content><div class=tab-pane id=poj-2253-1><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcmath></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>201</span>;</span><br><span class=line><span class=type>int</span> t, n, x[N], y[N];</span><br><span class=line><span class=type>double</span> dist[N][N];</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>floyd</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> k = <span class=number>1</span>; k <= n; ++k)</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>            <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>1</span>; j <= n; ++j)</span><br><span class=line>                dist[i][j] = <span class=built_in>min</span>(dist[i][j], <span class=built_in>max</span>(dist[i][k], dist[k][j]));</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>while</span> (cin >> n, n)</span><br><span class=line>    {</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>            cin >> x[i] >> y[i];</span><br><span class=line></span><br><span class=line>        <span class=built_in>memset</span>(dist, <span class=number>0</span>, <span class=keyword>sizeof</span> dist);</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>            <span class=keyword>for</span> (<span class=type>int</span> j = i + <span class=number>1</span>; j <= n; ++j)</span><br><span class=line>                dist[i][j] = dist[j][i] = <span class=built_in>sqrt</span>(<span class=built_in>pow</span>(x[i] - x[j], <span class=number>2</span>) + <span class=built_in>pow</span>(y[i] - y[j], <span class=number>2</span>));</span><br><span class=line>        <span class=built_in>floyd</span>();</span><br><span class=line>        <span class=built_in>printf</span>(<span class=string>"Scenario #%d\nFrog Distance = %.3f\n\n"</span>, ++t, dist[<span class=number>1</span>][<span class=number>2</span>]);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure></div><div class="tab-pane active" id=poj-2253-2><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcmath></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTqueue></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>201</span>;</span><br><span class=line><span class=type>int</span> t, n, x[N], y[N];</span><br><span class=line><span class=type>double</span> g[N][N], dist[N];</span><br><span class=line><span class=type>bool</span> st[N];</span><br><span class=line><span class=keyword>struct</span> <span class="title class_">node</span></span><br><span class=line>{</span><br><span class=line>    <span class=type>double</span> w;</span><br><span class=line>    <span class=type>int</span> u;</span><br><span class=line>    <span class=type>bool</span> <span class=keyword>operator</span>>(<span class=type>const</span> node &a) <span class=type>const</span> { <span class=keyword>return</span> w > a.w; }</span><br><span class=line>};</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>dijkstra</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    priority_queue&LTnode, vector&LTnode>, greater&LTnode> > q;</span><br><span class=line>    <span class=built_in>fill</span>(dist, dist + N, <span class=number>1e3</span>);</span><br><span class=line>    <span class=built_in>memset</span>(st, <span class=number>0</span>, <span class=keyword>sizeof</span> st);</span><br><span class=line>    dist[<span class=number>1</span>] = <span class=number>0</span>;</span><br><span class=line>    q.<span class=built_in>push</span>({<span class=number>0</span>, <span class=number>1</span>});</span><br><span class=line>    <span class=keyword>while</span> (!q.<span class=built_in>empty</span>())</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> u = q.<span class=built_in>top</span>().u;</span><br><span class=line>        q.<span class=built_in>pop</span>();</span><br><span class=line>        <span class=keyword>if</span> (st[u])</span><br><span class=line>            <span class=keyword>continue</span>;</span><br><span class=line>        st[u] = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> v = <span class=number>1</span>; v <= n; ++v)</span><br><span class=line>            <span class=keyword>if</span> (dist[v] > <span class=built_in>max</span>(dist[u], g[u][v]))</span><br><span class=line>                q.<span class=built_in>push</span>({dist[v] = <span class=built_in>max</span>(dist[u], g[u][v]), v});</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>while</span> (cin >> n, n)</span><br><span class=line>    {</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>            cin >> x[i] >> y[i];</span><br><span class=line></span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>            <span class=keyword>for</span> (<span class=type>int</span> j = i + <span class=number>1</span>; j <= n; ++j)</span><br><span class=line>                g[i][j] = g[j][i] = <span class=built_in>sqrt</span>(<span class=built_in>pow</span>(x[i] - x[j], <span class=number>2</span>) + <span class=built_in>pow</span>(y[i] - y[j], <span class=number>2</span>));</span><br><span class=line>        <span class=built_in>dijkstra</span>();</span><br><span class=line>        <span class=built_in>printf</span>(<span class=string>"Scenario #%d\nFrog Distance = %.3f\n\n"</span>, ++t, dist[<span class=number>2</span>]);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure></div><div class=tab-pane id=poj-2253-3><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcmath></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTalgorithm></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>201</span>;</span><br><span class=line><span class=type>int</span> t, n, m, x[N], y[N], p[N];</span><br><span class=line><span class=function><span class=type>double</span> <span class=title>get_dist</span><span class=params>(<span class=type>int</span> i, <span class=type>int</span> j)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>return</span> <span class=built_in>sqrt</span>(<span class=built_in>pow</span>(x[i] - x[j], <span class=number>2</span>) + <span class=built_in>pow</span>(y[i] - y[j], <span class=number>2</span>));</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>find</span><span class=params>(<span class=type>int</span> x)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>return</span> p[x] == x ? x : p[x] = <span class=built_in>find</span>(p[x]);</span><br><span class=line>}</span><br><span class=line><span class=keyword>struct</span> <span class="title class_">edge</span></span><br><span class=line>{</span><br><span class=line>    <span class=type>double</span> w;</span><br><span class=line>    <span class=type>int</span> u, v;</span><br><span class=line>    <span class=type>bool</span> <span class=keyword>operator</span><(<span class=type>const</span> edge &a) <span class=type>const</span> { <span class=keyword>return</span> w < a.w; }</span><br><span class=line>} e[N * N];</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>kruskal</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>        p[i] = i;</span><br><span class=line>    <span class=built_in>sort</span>(e, e + m);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < m; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> a = <span class=built_in>find</span>(e[i].u), b = <span class=built_in>find</span>(e[i].v);</span><br><span class=line>        <span class=keyword>if</span> (a != b)</span><br><span class=line>            p[a] = b;</span><br><span class=line>        <span class=keyword>if</span> (<span class=built_in>find</span>(<span class=number>1</span>) == <span class=built_in>find</span>(<span class=number>2</span>))</span><br><span class=line>        {</span><br><span class=line>            <span class=built_in>printf</span>(<span class=string>"Scenario #%d\nFrog Distance = %.3f\n\n"</span>, ++t, e[i].w);</span><br><span class=line>            <span class=keyword>break</span>;</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>while</span> (cin >> n, n)</span><br><span class=line>    {</span><br><span class=line>        m = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>            cin >> x[i] >> y[i];</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>            <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>1</span>; j < i; ++j)</span><br><span class=line>                e[m++] = {<span class=built_in>get_dist</span>(i, j), i, j};</span><br><span class=line>        <span class=built_in>kruskal</span>();</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure></div></div></div><h3 id=POJ-1797-Heavy-Transportation><a title="POJ-1797 Heavy Transportation" class=headerlink href=#POJ-1797-Heavy-Transportation></a>POJ-1797 Heavy Transportation</h3><p>同<a href=#POJ-2253-Frogger>上题</a>，不过是反方向（极大化极小值）。此外，数据量较大不适合用 Floyd。稠密图，更适合用 Prim 而非 Kruskal。<div class=tabs id=poj-1797><ul class=nav-tabs><li class=tab><a href=#poj-1797-1>最短路-Dijkstra</a><li class="tab active"><a href=#poj-1797-2>最小生成树-Kruskal</a><li class=tab><a href=#poj-1797-3>最小生成树-Prim</a></ul><div class=tab-content><div class=tab-pane id=poj-1797-1><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTqueue></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>1001</span>;</span><br><span class=line><span class=type>int</span> t, n, m, g[N][N], dist[N];</span><br><span class=line><span class=type>bool</span> st[N];</span><br><span class=line><span class=keyword>struct</span> <span class="title class_">node</span></span><br><span class=line>{</span><br><span class=line>    <span class=type>int</span> w, u;</span><br><span class=line>    <span class=type>bool</span> <span class=keyword>operator</span><(<span class=type>const</span> node &a) <span class=type>const</span> { <span class=keyword>return</span> w < a.w; }</span><br><span class=line>};</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>dijkstra</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    priority_queue&LTnode> q;</span><br><span class=line>    <span class=built_in>memset</span>(dist, <span class=number>0</span>, <span class=keyword>sizeof</span> dist);</span><br><span class=line>    <span class=built_in>memset</span>(st, <span class=number>0</span>, <span class=keyword>sizeof</span> st);</span><br><span class=line>    dist[<span class=number>1</span>] = <span class=number>0x3f3f3f3f</span>;</span><br><span class=line>    q.<span class=built_in>push</span>({<span class=number>0</span>, <span class=number>1</span>});</span><br><span class=line>    <span class=keyword>while</span> (!q.<span class=built_in>empty</span>())</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> u = q.<span class=built_in>top</span>().u;</span><br><span class=line>        q.<span class=built_in>pop</span>();</span><br><span class=line>        <span class=keyword>if</span> (st[u])</span><br><span class=line>            <span class=keyword>continue</span>;</span><br><span class=line>        st[u] = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> v = <span class=number>1</span>; v <= n; ++v)</span><br><span class=line>            <span class=keyword>if</span> (g[u][v] && dist[v] < <span class=built_in>min</span>(dist[u], g[u][v]))</span><br><span class=line>                q.<span class=built_in>push</span>({dist[v] = <span class=built_in>min</span>(dist[u], g[u][v]), v});</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d"</span>, &t);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= t; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &n, &m);</span><br><span class=line>        <span class=built_in>memset</span>(g, <span class=number>0</span>, <span class=keyword>sizeof</span> g);</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>1</span>, a, b, c; j <= m; ++j)</span><br><span class=line>        {</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &a, &b, &c);</span><br><span class=line>            g[a][b] = g[b][a] = c;</span><br><span class=line>        }</span><br><span class=line>        <span class=built_in>dijkstra</span>();</span><br><span class=line>        <span class=built_in>printf</span>(<span class=string>"Scenario #%d:\n%d\n\n"</span>, i, dist[n]);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure></div><div class="tab-pane active" id=poj-1797-2><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTalgorithm></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>1001</span>;</span><br><span class=line><span class=type>int</span> T, t, n, m, p[N];</span><br><span class=line><span class=keyword>struct</span> <span class="title class_">edge</span></span><br><span class=line>{</span><br><span class=line>    <span class=type>int</span> w, u, v;</span><br><span class=line>    <span class=type>bool</span> <span class=keyword>operator</span><(<span class=type>const</span> edge &a) <span class=type>const</span> { <span class=keyword>return</span> w > a.w; }</span><br><span class=line>} e[N * N];</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>find</span><span class=params>(<span class=type>int</span> x)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>return</span> p[x] == x ? x : p[x] = <span class=built_in>find</span>(p[x]);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>kruskal</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>        p[i] = i;</span><br><span class=line>    <span class=built_in>sort</span>(e, e + m);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>0</span>; j < m; ++j)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> a = <span class=built_in>find</span>(e[j].u), b = <span class=built_in>find</span>(e[j].v);</span><br><span class=line>        <span class=keyword>if</span> (a != b)</span><br><span class=line>            p[a] = b;</span><br><span class=line>        <span class=keyword>if</span> (<span class=built_in>find</span>(<span class=number>1</span>) == <span class=built_in>find</span>(n))</span><br><span class=line>        {</span><br><span class=line>            <span class=built_in>printf</span>(<span class=string>"Scenario #%d:\n%d\n\n"</span>, t, e[j].w);</span><br><span class=line>            <span class=keyword>break</span>;</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d"</span>, &T);</span><br><span class=line>    <span class=keyword>for</span> (t = <span class=number>1</span>; t <= T; ++t)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &n, &m);</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < m; ++i)</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &e[i].u, &e[i].v, &e[i].w);</span><br><span class=line>        <span class=built_in>kruskal</span>();</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure></div><div class=tab-pane id=poj-1797-3><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>1001</span>;</span><br><span class=line><span class=type>int</span> t, n, m, g[N][N], dist[N];</span><br><span class=line><span class=type>bool</span> st[N];</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>prim</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>memset</span>(st, <span class=number>0</span>, <span class=keyword>sizeof</span> st);</span><br><span class=line>    <span class=built_in>memset</span>(dist, <span class=number>0</span>, <span class=keyword>sizeof</span> dist);</span><br><span class=line>    dist[<span class=number>1</span>] = <span class=number>0x3f3f3f3f</span>;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < n; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> t = <span class=number>-1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>1</span>; j <= n; ++j)</span><br><span class=line>            <span class=keyword>if</span> (!st[j] && (t == <span class=number>-1</span> || dist[t] < dist[j]))</span><br><span class=line>                t = j;</span><br><span class=line>        st[t] = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>1</span>; j <= n; ++j)</span><br><span class=line>            <span class=keyword>if</span> (!st[j] && dist[j] < <span class=built_in>min</span>(dist[t], g[t][j]))</span><br><span class=line>                dist[j] = <span class=built_in>min</span>(dist[t], g[t][j]);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> dist[n];</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d"</span>, &t);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= t; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>memset</span>(g, <span class=number>0</span>, <span class=keyword>sizeof</span> g);</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &n, &m);</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>1</span>, a, b, c; j <= m; ++j)</span><br><span class=line>        {</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &a, &b, &c);</span><br><span class=line>            g[a][b] = c, g[b][a] = c;</span><br><span class=line>        }</span><br><span class=line>        <span class=built_in>printf</span>(<span class=string>"Scenario #%d:\n%d\n\n"</span>, i, <span class=built_in>prim</span>());</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure></div></div></div><h3 id=POJ-3268-Silver-Cow-Party><a title="POJ-3268 Silver Cow Party" class=headerlink href=#POJ-3268-Silver-Cow-Party></a>POJ-3268 Silver Cow Party</h3><p>有向图，多源，单终点，求往返路程最短路的最大值。可以将终点当作源点，正反建图，跑两次最短路算法，求和，最大值为答案。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTqueue></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=keyword>typedef</span> pair<<span class=type>int</span>, <span class=type>int</span>> pii;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>1001</span>, M = <span class=number>100001</span>;</span><br><span class=line><span class=type>int</span> n, m, x, a[M], b[M], t[M];</span><br><span class=line><span class=type>int</span> h[N], e[M], w[M], ne[M], idx;</span><br><span class=line><span class=type>int</span> d1[N], d2[N], ans;</span><br><span class=line><span class=type>bool</span> st[N];</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>add</span><span class=params>(<span class=type>int</span> u, <span class=type>int</span> v, <span class=type>int</span> ww)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    e[++idx] = v, w[idx] = ww, ne[idx] = h[u], h[u] = idx;</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>dijstra</span><span class=params>(<span class=type>int</span> dist[N])</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>memset</span>(st, <span class=number>0</span>, <span class=keyword>sizeof</span> st);</span><br><span class=line>    priority_queue&LTpii, vector&LTpii>, greater&LTpii> > q;</span><br><span class=line>    q.<span class=built_in>push</span>({<span class=number>0</span>, x});</span><br><span class=line>    dist[x] = <span class=number>0</span>;</span><br><span class=line>    <span class=keyword>while</span> (q.<span class=built_in>size</span>())</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> u = q.<span class=built_in>top</span>().second;</span><br><span class=line>        q.<span class=built_in>pop</span>();</span><br><span class=line>        <span class=keyword>if</span> (st[u])</span><br><span class=line>            <span class=keyword>continue</span>;</span><br><span class=line>        st[u] = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = h[u]; i; i = ne[i])</span><br><span class=line>        {</span><br><span class=line>            <span class=type>int</span> v = e[i];</span><br><span class=line>            <span class=keyword>if</span> (dist[v] > dist[u] + w[i])</span><br><span class=line>                q.<span class=built_in>push</span>({dist[v] = dist[u] + w[i], v});</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &n, &m, &x);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < m; ++i)</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &a[i], &b[i], &t[i]);</span><br><span class=line></span><br><span class=line>    <span class=built_in>memset</span>(h, <span class=number>0</span>, <span class=keyword>sizeof</span> h);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < m; ++i)</span><br><span class=line>        <span class=built_in>add</span>(a[i], b[i], t[i]);</span><br><span class=line>    <span class=built_in>memset</span>(d1, <span class=number>0x3f</span>, <span class=keyword>sizeof</span> d1);</span><br><span class=line>    <span class=built_in>dijstra</span>(d1);</span><br><span class=line></span><br><span class=line>    <span class=built_in>memset</span>(h, <span class=number>0</span>, <span class=keyword>sizeof</span> h);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < m; ++i)</span><br><span class=line>        <span class=built_in>add</span>(b[i], a[i], t[i]);</span><br><span class=line>    <span class=built_in>memset</span>(d2, <span class=number>0x3f</span>, <span class=keyword>sizeof</span> d2);</span><br><span class=line>    <span class=built_in>dijstra</span>(d2);</span><br><span class=line></span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>        <span class=keyword>if</span> (i != x && ans < d1[i] + d2[i])</span><br><span class=line>            ans = d1[i] + d2[i];</span><br><span class=line>    <span class=built_in>printf</span>(<span class=string>"%d\n"</span>, ans);</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=POJ-1860-Currency-Exchange><a title="POJ-1860 Currency Exchange" class=headerlink href=#POJ-1860-Currency-Exchange></a>POJ-1860 Currency Exchange</h3><p>求正环，将传统 <a href=https://oi-wiki.org/graph/shortest-path/#%E5%AE%9E%E7%8E%B0_1 rel=noopener target=_blank>Bellman–Ford</a> 算法改个方向即可。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>101</span>, M = <span class=number>200</span>;</span><br><span class=line><span class=type>int</span> n, m, s, tol;</span><br><span class=line><span class=type>double</span> v;</span><br><span class=line><span class=type>int</span> e[M][<span class=number>2</span>];</span><br><span class=line><span class=type>double</span> w[M][<span class=number>2</span>], dist[N];</span><br><span class=line><span class=function><span class=type>bool</span> <span class=title>bellmanford</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>memset</span>(dist, <span class=number>0</span>, <span class=keyword>sizeof</span> dist);</span><br><span class=line>    dist[s] = v;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>bool</span> flag = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>0</span>; j < tol; ++j)</span><br><span class=line>        {</span><br><span class=line>            <span class=type>int</span> a = e[j][<span class=number>0</span>], b = e[j][<span class=number>1</span>];</span><br><span class=line>            <span class=keyword>if</span> (dist[b] < (dist[a] - w[j][<span class=number>1</span>]) * w[j][<span class=number>0</span>])</span><br><span class=line>            {</span><br><span class=line>                dist[b] = (dist[a] - w[j][<span class=number>1</span>]) * w[j][<span class=number>0</span>];</span><br><span class=line>                flag = <span class=number>1</span>;</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (!flag)</span><br><span class=line>            <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>1</span>;</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d%d%d%lf"</span>, &n, &m, &s, &v);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>, a, b; i < m; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>double</span> r1, c1, r2, c2;</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d%d%lf%lf%lf%lf"</span>, &a, &b, &r1, &c1, &r2, &c2);</span><br><span class=line>        e[tol][<span class=number>0</span>] = a, e[tol][<span class=number>1</span>] = b;</span><br><span class=line>        w[tol][<span class=number>0</span>] = r1, w[tol][<span class=number>1</span>] = c1;</span><br><span class=line>        ++tol;</span><br><span class=line>        e[tol][<span class=number>0</span>] = b, e[tol][<span class=number>1</span>] = a;</span><br><span class=line>        w[tol][<span class=number>0</span>] = r2, w[tol][<span class=number>1</span>] = c2;</span><br><span class=line>        ++tol;</span><br><span class=line>    }</span><br><span class=line>    <span class=built_in>printf</span>(<span class=built_in>bellmanford</span>() ? <span class=string>"YES\n"</span> : <span class=string>"NO\n"</span>);</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}   </span><br></pre></table></figure><h3 id=POJ-3259-Wormholes><a title="POJ-3259 Wormholes" class=headerlink href=#POJ-3259-Wormholes></a>POJ-3259 Wormholes</h3><p>求负环。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>501</span>, M = <span class=number>5200</span>;</span><br><span class=line><span class=type>int</span> t, n, m1, m2;</span><br><span class=line><span class=type>int</span> e[M][<span class=number>2</span>], w[M], dist[N], idx;</span><br><span class=line><span class=function><span class=type>bool</span> <span class=title>bellmanford</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>memset</span>(dist, <span class=number>0x3f</span>, <span class=keyword>sizeof</span> dist);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> flag = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>0</span>; j < idx; ++j)</span><br><span class=line>        {</span><br><span class=line>            <span class=type>int</span> u = e[j][<span class=number>0</span>], v = e[j][<span class=number>1</span>];</span><br><span class=line>            <span class=keyword>if</span> (dist[v] > dist[u] + w[j])</span><br><span class=line>            {</span><br><span class=line>                dist[v] = dist[u] + w[j];</span><br><span class=line>                flag = <span class=number>0</span>;</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (flag) <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>1</span>;</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d"</span>, &t);</span><br><span class=line>    <span class=keyword>while</span> (t--)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &n, &m1, &m2);</span><br><span class=line>        idx = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>, a, b, c; i < m1; ++i)</span><br><span class=line>        {</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &a, &b, &c);</span><br><span class=line>            e[idx][<span class=number>0</span>] = a, e[idx][<span class=number>1</span>] = b, w[idx] = c;</span><br><span class=line>            idx++;</span><br><span class=line>            e[idx][<span class=number>0</span>] = b, e[idx][<span class=number>1</span>] = a, w[idx] = c;</span><br><span class=line>            idx++;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>, a, b, c; i < m2; ++i)</span><br><span class=line>        {</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &a, &b, &c);</span><br><span class=line>            e[idx][<span class=number>0</span>] = a, e[idx][<span class=number>1</span>] = b, w[idx] = -c;</span><br><span class=line>            idx++;</span><br><span class=line>        }</span><br><span class=line>        <span class=built_in>printf</span>(<span class=built_in>bellmanford</span>() ? <span class=string>"YES\n"</span> : <span class=string>"NO\n"</span>);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=POJ-1502-MPI-Maelstrom><a title="POJ-1502 MPI Maelstrom" class=headerlink href=#POJ-1502-MPI-Maelstrom></a>POJ-1502 MPI Maelstrom</h3><p>单源多目的地最短路，取其中最大值，注意按示例输入建图。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTqueue></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTalgorithm></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>101</span>;</span><br><span class=line><span class=type>int</span> n, g[N][N], dist[N];</span><br><span class=line><span class=type>bool</span> st[N];</span><br><span class=line><span class=keyword>struct</span> <span class="title class_">node</span></span><br><span class=line>{</span><br><span class=line>    <span class=type>int</span> w, u;</span><br><span class=line>    <span class=type>bool</span> <span class=keyword>operator</span>>(<span class=type>const</span> node &a) <span class=type>const</span> { <span class=keyword>return</span> w > a.w; }</span><br><span class=line>};</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>dijkstra</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>memset</span>(dist, <span class=number>0x3f</span>, <span class=keyword>sizeof</span> dist);</span><br><span class=line>    dist[<span class=number>1</span>] = <span class=number>0</span>;</span><br><span class=line>    priority_queue&LTnode, vector&LTnode>, greater&LTnode> > q;</span><br><span class=line>    q.<span class=built_in>push</span>({<span class=number>0</span>, <span class=number>1</span>});</span><br><span class=line>    <span class=keyword>while</span> (!q.<span class=built_in>empty</span>())</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> u = q.<span class=built_in>top</span>().u;</span><br><span class=line>        q.<span class=built_in>pop</span>();</span><br><span class=line>        <span class=keyword>if</span> (st[u])</span><br><span class=line>            <span class=keyword>continue</span>;</span><br><span class=line>        st[u] = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> v = <span class=number>1</span>; v <= n; ++v)</span><br><span class=line>            <span class=keyword>if</span> (dist[v] > dist[u] + g[u][v])</span><br><span class=line>                q.<span class=built_in>push</span>({dist[v] = dist[u] + g[u][v], v});</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    cin >> n;</span><br><span class=line>    <span class=built_in>memset</span>(g, <span class=number>0x3d</span>, <span class=keyword>sizeof</span> g);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>2</span>; i <= n; ++i)</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>1</span>; j < i; ++j)</span><br><span class=line>        {</span><br><span class=line>            string s;</span><br><span class=line>            cin >> s;</span><br><span class=line>            <span class=keyword>if</span> (s[<span class=number>0</span>] == <span class=string>'x'</span>)</span><br><span class=line>                <span class=keyword>continue</span>;</span><br><span class=line>            <span class=type>int</span> v = <span class=number>0</span>;</span><br><span class=line>            <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < s.<span class=built_in>size</span>(); ++i)</span><br><span class=line>                v *= <span class=number>10</span>, v += s[i] - <span class=string>'0'</span>;</span><br><span class=line>            g[i][j] = g[j][i] = v;</span><br><span class=line>        }</span><br><span class=line>    <span class=built_in>dijkstra</span>();</span><br><span class=line>    cout << *<span class=built_in>max_element</span>(dist + <span class=number>2</span>, dist + n + <span class=number>1</span>) << endl;</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=POJ-3660-Cow-Contest><a title="POJ-3660 Cow Contest" class=headerlink href=#POJ-3660-Cow-Contest></a>POJ-3660 Cow Contest</h3><p>Floyd 求传递闭包。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>100</span>;</span><br><span class=line><span class=type>int</span> n, m, a, b, ans;</span><br><span class=line><span class=type>bool</span> g[N][N];</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    cin >> n >> m;</span><br><span class=line>    <span class=keyword>while</span> (m--)</span><br><span class=line>    {</span><br><span class=line>        cin >> a >> b;</span><br><span class=line>        g[a - <span class=number>1</span>][b - <span class=number>1</span>] = <span class=number>1</span>;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> k = <span class=number>0</span>; k < n; ++k)</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < n; ++i)</span><br><span class=line>            <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>0</span>; j < n; ++j)</span><br><span class=line>                g[i][j] |= g[i][k] && g[k][j];</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < n; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>bool</span> flag = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>0</span>; j < n; ++j)</span><br><span class=line>            <span class=keyword>if</span> (i != j && !g[i][j] && !g[j][i])</span><br><span class=line>            {</span><br><span class=line>                flag = <span class=number>0</span>;</span><br><span class=line>                <span class=keyword>break</span>;</span><br><span class=line>            }</span><br><span class=line>        <span class=keyword>if</span> (flag)</span><br><span class=line>            ++ans;</span><br><span class=line>    }</span><br><span class=line>    cout << ans << endl;</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=POJ-2240-Arbitrage><a title="POJ-2240 Arbitrage" class=headerlink href=#POJ-2240-Arbitrage></a>POJ-2240 Arbitrage</h3><p>类似上面的<a href=#POJ-1860-Currency-Exchange>Currency Exchange</a>。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTmap></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>30</span>, M = N * N;</span><br><span class=line><span class=type>int</span> t, n, m;</span><br><span class=line><span class=type>int</span> e[M][<span class=number>2</span>];</span><br><span class=line><span class=type>double</span> w[M], dist[N];</span><br><span class=line><span class=function><span class=type>bool</span> <span class=title>bellmanford</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>memset</span>(dist, <span class=number>0</span>, <span class=keyword>sizeof</span> dist);</span><br><span class=line>    dist[<span class=number>0</span>] = <span class=number>1</span>;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i <= n; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>bool</span> flag = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>0</span>; j < m + n; ++j)</span><br><span class=line>        {</span><br><span class=line>            <span class=type>int</span> a = e[j][<span class=number>0</span>], b = e[j][<span class=number>1</span>];</span><br><span class=line>            <span class=keyword>if</span> (dist[b] < dist[a] * w[j])</span><br><span class=line>            {</span><br><span class=line>                dist[b] = dist[a] * w[j];</span><br><span class=line>                flag = <span class=number>1</span>;</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (!flag)</span><br><span class=line>            <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>1</span>;</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>while</span> (cin >> n, n)</span><br><span class=line>    {</span><br><span class=line>        map&LTstring, <span class=type>int</span>> ccy;</span><br><span class=line>        string c1, c2;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < n; ++i)</span><br><span class=line>        {</span><br><span class=line>            cin >> c1;</span><br><span class=line>            ccy[c1] = i;</span><br><span class=line>        }</span><br><span class=line>        cin >> m;</span><br><span class=line>        <span class=type>double</span> r;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < m; ++i)</span><br><span class=line>        {</span><br><span class=line>            cin >> c1 >> r >> c2;</span><br><span class=line>            e[i][<span class=number>0</span>] = ccy[c1], e[i][<span class=number>1</span>] = ccy[c2], w[i] = r;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = m; i < m + n; ++i)</span><br><span class=line>            e[i][<span class=number>0</span>] = m, e[i][<span class=number>1</span>] = i - m, w[i] = <span class=number>1</span>;</span><br><span class=line>        <span class=type>bool</span> f = <span class=built_in>bellmanford</span>();</span><br><span class=line>        cout << <span class=string>"Case "</span> << (++t) << <span class=string>": "</span></span><br><span class=line>             << (f ? <span class=string>"Yes"</span> : <span class=string>"No"</span>) << endl;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=POJ-1511-Invitation-Cards><a title="POJ-1511 Invitation Cards" class=headerlink href=#POJ-1511-Invitation-Cards></a>POJ-1511 Invitation Cards</h3><p>单源多目的地最短路，一去一回，求和，回的时候反着建图就行。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTqueue></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>1e6</span> + <span class=number>1</span>, M = <span class=number>2e6</span>;</span><br><span class=line><span class=type>int</span> t, n, m;</span><br><span class=line><span class=type>int</span> h1[N], h2[N], e[M], w[M], ne[M], idx;</span><br><span class=line><span class=type>int</span> d1[N], d2[N];</span><br><span class=line><span class=type>bool</span> st[N];</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>add</span><span class=params>(<span class=type>int</span> h[], <span class=type>int</span> u, <span class=type>int</span> v, <span class=type>int</span> ww)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    e[idx] = v, w[idx] = ww, ne[idx] = h[u], h[u] = idx++;</span><br><span class=line>}</span><br><span class=line><span class=keyword>struct</span> <span class="title class_">node</span></span><br><span class=line>{</span><br><span class=line>    <span class=type>int</span> w, u;</span><br><span class=line>    <span class=type>bool</span> <span class=keyword>operator</span>>(<span class=type>const</span> node &a) <span class=type>const</span> { <span class=keyword>return</span> w > a.w; }</span><br><span class=line>};</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>dijkstra</span><span class=params>(<span class=type>int</span> h[], <span class=type>int</span> d[])</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    priority_queue&LTnode, vector&LTnode>, greater&LTnode> > q;</span><br><span class=line>    q.<span class=built_in>push</span>({<span class=number>0</span>, <span class=number>1</span>});</span><br><span class=line>    d[<span class=number>1</span>] = <span class=number>0</span>;</span><br><span class=line>    <span class=built_in>memset</span>(st, <span class=number>0</span>, <span class=keyword>sizeof</span> st);</span><br><span class=line>    <span class=keyword>while</span> (q.<span class=built_in>size</span>())</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> u = q.<span class=built_in>top</span>().u;</span><br><span class=line>        q.<span class=built_in>pop</span>();</span><br><span class=line>        <span class=keyword>if</span> (st[u])</span><br><span class=line>            <span class=keyword>continue</span>;</span><br><span class=line>        st[u] = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = h[u]; ~i; i = ne[i])</span><br><span class=line>        {</span><br><span class=line>            <span class=type>int</span> v = e[i];</span><br><span class=line>            <span class=keyword>if</span> (d[v] > d[u] + w[i])</span><br><span class=line>                q.<span class=built_in>push</span>({d[v] = d[u] + w[i], v});</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d"</span>, &t);</span><br><span class=line>    <span class=keyword>while</span> (t--)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &n, &m);</span><br><span class=line>        <span class=built_in>memset</span>(h1, <span class=number>-1</span>, <span class=keyword>sizeof</span> h1);</span><br><span class=line>        <span class=built_in>memset</span>(h2, <span class=number>-1</span>, <span class=keyword>sizeof</span> h2);</span><br><span class=line>        <span class=built_in>memset</span>(d1, <span class=number>0x3f</span>, <span class=keyword>sizeof</span> d1);</span><br><span class=line>        <span class=built_in>memset</span>(d2, <span class=number>0x3f</span>, <span class=keyword>sizeof</span> d2);</span><br><span class=line>        idx = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>, a, b, c; i < m; ++i)</span><br><span class=line>        {</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &a, &b, &c);</span><br><span class=line>            <span class=built_in>add</span>(h1, a, b, c);</span><br><span class=line>            <span class=built_in>add</span>(h2, b, a, c);</span><br><span class=line>        }</span><br><span class=line>        <span class=built_in>dijkstra</span>(h1, d1);</span><br><span class=line>        <span class=built_in>dijkstra</span>(h2, d2);</span><br><span class=line>        <span class=type>long</span> <span class=type>long</span> ans = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>            ans += d1[i] + d2[i];</span><br><span class=line>        <span class=built_in>printf</span>(<span class=string>"%lld\n"</span>, ans);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=POJ-3159-Candies><a title="POJ-3159 Candies" class=headerlink href=#POJ-3159-Candies></a>POJ-3159 Candies</h3><p>差分约束，注意比较方向。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTqueue></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>30001</span>, M = <span class=number>150001</span>;</span><br><span class=line><span class=type>int</span> n, m;</span><br><span class=line><span class=type>int</span> h[N], e[M], w[M], ne[M], idx;</span><br><span class=line><span class=type>int</span> d[N];</span><br><span class=line><span class=type>bool</span> st[N];</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>add</span><span class=params>(<span class=type>int</span> u, <span class=type>int</span> v, <span class=type>int</span> ww)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    e[++idx] = v, w[idx] = ww, ne[idx] = h[u], h[u] = idx;</span><br><span class=line>}</span><br><span class=line><span class=keyword>struct</span> <span class="title class_">node</span></span><br><span class=line>{</span><br><span class=line>    <span class=type>int</span> w, u;</span><br><span class=line>    <span class=type>bool</span> <span class=keyword>operator</span>>(<span class=type>const</span> node &a) <span class=type>const</span> { <span class=keyword>return</span> w > a.w; }</span><br><span class=line>};</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>dijkstra</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    priority_queue&LTnode, vector&LTnode>, greater&LTnode> > q;</span><br><span class=line>    q.<span class=built_in>push</span>({<span class=number>0</span>, <span class=number>1</span>});</span><br><span class=line>    <span class=built_in>memset</span>(d, <span class=number>0x3f</span>, <span class=keyword>sizeof</span> d);</span><br><span class=line>    <span class=built_in>memset</span>(st, <span class=number>0</span>, <span class=keyword>sizeof</span> st);</span><br><span class=line>    d[<span class=number>1</span>] = <span class=number>0</span>;</span><br><span class=line>    <span class=keyword>while</span> (q.<span class=built_in>size</span>())</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> u = q.<span class=built_in>top</span>().u;</span><br><span class=line>        q.<span class=built_in>pop</span>();</span><br><span class=line>        <span class=keyword>if</span> (st[u])</span><br><span class=line>            <span class=keyword>continue</span>;</span><br><span class=line>        st[u] = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = h[u]; i; i = ne[i])</span><br><span class=line>        {</span><br><span class=line>            <span class=type>int</span> v = e[i];</span><br><span class=line>            <span class=keyword>if</span> (d[v] > d[u] + w[i])</span><br><span class=line>                q.<span class=built_in>push</span>({d[v] = d[u] + w[i], v});</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &n, &m);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>, a, b, c; i < m; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &a, &b, &c);</span><br><span class=line>        <span class=built_in>add</span>(a, b, c);</span><br><span class=line>    }</span><br><span class=line>    <span class=built_in>dijkstra</span>();</span><br><span class=line>    <span class=built_in>printf</span>(<span class=string>"%d\n"</span>, d[n]);</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=POJ-2502-Subway><a title="POJ-2502 Subway" class=headerlink href=#POJ-2502-Subway></a>POJ-2502 Subway</h3><p>求最短路。注意处理好输入，建图 <code>cost</code> 要用时间而非距离以消弭速度差异，此外不能漏掉所有点之间的步行 <code>cost</code>，最后上最短路算法即可。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTalgorithm></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcmath></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTqueue></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>310</span>, INF = <span class=number>1e9</span>;</span><br><span class=line><span class=keyword>struct</span> <span class="title class_">vertice</span></span><br><span class=line>{</span><br><span class=line>    <span class=type>double</span> x, y;</span><br><span class=line>} vs[N];</span><br><span class=line><span class=type>int</span> n = <span class=number>2</span>;</span><br><span class=line><span class=type>double</span> cost[N][N], d[N];</span><br><span class=line><span class=type>bool</span> st[N];</span><br><span class=line><span class=keyword>struct</span> <span class="title class_">node</span></span><br><span class=line>{</span><br><span class=line>    <span class=type>double</span> w;</span><br><span class=line>    <span class=type>int</span> u;</span><br><span class=line>    <span class=type>bool</span> <span class=keyword>operator</span>>(<span class=type>const</span> node &a) <span class=type>const</span> { <span class=keyword>return</span> w > a.w; }</span><br><span class=line>};</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>dijkstra</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>2</span>; i <= n; ++i)</span><br><span class=line>        d[i] = INF;</span><br><span class=line>    d[<span class=number>1</span>] = <span class=number>0</span>;</span><br><span class=line>    priority_queue&LTnode, vector&LTnode>, greater&LTnode> > q;</span><br><span class=line>    q.<span class=built_in>push</span>({<span class=number>0</span>, <span class=number>1</span>});</span><br><span class=line>    <span class=keyword>while</span> (q.<span class=built_in>size</span>())</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> u = q.<span class=built_in>top</span>().u;</span><br><span class=line>        q.<span class=built_in>pop</span>();</span><br><span class=line>        <span class=keyword>if</span> (st[u])</span><br><span class=line>            <span class=keyword>continue</span>;</span><br><span class=line>        st[u] = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> v = <span class=number>1</span>; v <= n; ++v)</span><br><span class=line>            <span class=keyword>if</span> (d[v] > d[u] + cost[u][v])</span><br><span class=line>                q.<span class=built_in>push</span>({d[v] = d[u] + cost[u][v], v});</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>double</span> <span class=title>get_dist</span><span class=params>(vertice &a, vertice &b)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>return</span> <span class=built_in>sqrt</span>(<span class=built_in>pow</span>(a.x - b.x, <span class=number>2</span>) + <span class=built_in>pow</span>(a.y - b.y, <span class=number>2</span>));</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=type>double</span> v1 = <span class=number>10000.0</span> / <span class=number>60</span>, v2 = <span class=number>40000.0</span> / <span class=number>60</span>;</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%lf%lf%lf%lf"</span>, &vs[<span class=number>1</span>].x, &vs[<span class=number>1</span>].y, &vs[<span class=number>2</span>].x, &vs[<span class=number>2</span>].y);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= <span class=number>300</span>; ++i)</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>1</span>; j <= <span class=number>300</span>; ++j)</span><br><span class=line>            cost[i][j] = i == j ? <span class=number>0</span> : INF;</span><br><span class=line>    <span class=type>double</span> x, y;</span><br><span class=line>    <span class=keyword>while</span> (~<span class=built_in>scanf</span>(<span class=string>"%lf%lf"</span>, &x, &y))</span><br><span class=line>    {</span><br><span class=line>        vs[++n] = {x, y};</span><br><span class=line>        <span class=keyword>while</span> (<span class=built_in>scanf</span>(<span class=string>"%lf%lf"</span>, &x, &y), x != <span class=number>-1</span>)</span><br><span class=line>        {</span><br><span class=line>            vs[++n] = {x, y};</span><br><span class=line>            cost[n][n - <span class=number>1</span>] = cost[n - <span class=number>1</span>][n] = <span class=built_in>min</span>(cost[n][n - <span class=number>1</span>], <span class=built_in>get_dist</span>(vs[n], vs[n - <span class=number>1</span>]) / v2);</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>1</span>; j <= n; ++j)</span><br><span class=line>            cost[i][j] = <span class=built_in>min</span>(cost[i][j], <span class=built_in>get_dist</span>(vs[i], vs[j]) / v1);</span><br><span class=line>    <span class=built_in>dijkstra</span>();</span><br><span class=line>    <span class=built_in>printf</span>(<span class=string>"%d\n"</span>, (<span class=type>int</span>)(d[<span class=number>2</span>] + <span class=number>0.5</span>));</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=POJ-1062-昂贵的聘礼><a title="POJ-1062 昂贵的聘礼" class=headerlink href=#POJ-1062-昂贵的聘礼></a>POJ-1062 昂贵的聘礼</h3><p>等级差的限制是比较难处理的点。可以枚举等级差，再跑最短路。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTalgorithm></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>101</span>, INF = <span class=number>0x3f3f3f3f</span>;</span><br><span class=line><span class=type>int</span> m, n, p, level[N], x, t, v, w[N][N];</span><br><span class=line><span class=type>int</span> q[N], hh, tt, dist[N], ans = INF;</span><br><span class=line><span class=type>bool</span> st[N];</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>dijkstra</span><span class=params>(<span class=type>int</span> down, <span class=type>int</span> up)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>memset</span>(dist, <span class=number>0x3f</span>, <span class=built_in>sizeof</span>(dist));</span><br><span class=line>    <span class=built_in>memset</span>(st, <span class=number>0</span>, <span class=built_in>sizeof</span>(st));</span><br><span class=line>    hh = q[<span class=number>0</span>] = dist[<span class=number>0</span>] = <span class=number>0</span>, tt = <span class=number>1</span>;</span><br><span class=line>    <span class=keyword>while</span> (hh != tt)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> u = q[hh++];</span><br><span class=line>        <span class=keyword>if</span> (hh == N)</span><br><span class=line>            hh = <span class=number>0</span>;</span><br><span class=line>        st[u] = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>            <span class=keyword>if</span> (down <= level[i] && level[i] <= up && w[u][i] != INF && dist[i] > dist[u] + w[u][i])</span><br><span class=line>            {</span><br><span class=line>                dist[i] = dist[u] + w[u][i];</span><br><span class=line>                <span class=keyword>if</span> (!st[i])</span><br><span class=line>                {</span><br><span class=line>                    q[tt++] = i;</span><br><span class=line>                    <span class=keyword>if</span> (tt == N)</span><br><span class=line>                        tt = <span class=number>0</span>;</span><br><span class=line>                    st[i] = <span class=number>1</span>;</span><br><span class=line>                }</span><br><span class=line>            }</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> dist[<span class=number>1</span>];</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &m, &n);</span><br><span class=line>    <span class=built_in>memset</span>(w, <span class=number>0x3f</span>, <span class=built_in>sizeof</span>(w));</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>        w[i][i] = <span class=number>0</span>;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &p, &level[i], &x);</span><br><span class=line>        w[<span class=number>0</span>][i] = p;</span><br><span class=line>        <span class=keyword>while</span> (x--)</span><br><span class=line>        {</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d%d"</span>, &t, &v);</span><br><span class=line>            w[t][i] = <span class=built_in>min</span>(w[t][i], v);</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = level[<span class=number>1</span>] - m; i <= level[<span class=number>1</span>]; ++i)</span><br><span class=line>        ans = <span class=built_in>min</span>(ans, <span class=built_in>dijkstra</span>(i, i + m));</span><br><span class=line>    <span class=built_in>printf</span>(<span class=string>"%d\n"</span>, ans);</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=POJ-1847-Tram><a title="POJ-1847 Tram" class=headerlink href=#POJ-1847-Tram></a>POJ-1847 Tram</h3><p>最短路，数量级小可以直接 Floyd。另外因为路径权值非 0 即 1，可以用 01-BFS。<div class=tabs id=poj-1847><ul class=nav-tabs><li class="tab active"><a href=#poj-1847-1>Floyd</a><li class=tab><a href=#poj-1847-2>01-BFS</a></ul><div class=tab-content><div class="tab-pane active" id=poj-1847-1><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTalgorithm></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>101</span>, INF = <span class=number>0x3f3f3f3f</span>;</span><br><span class=line><span class=type>int</span> n, a, b, g[N][N];</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>floyd</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> k = <span class=number>1</span>; k <= n; ++k)</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>            <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>1</span>; j <= n; ++j)</span><br><span class=line>                g[i][j] = <span class=built_in>min</span>(g[i][j], g[i][k] + g[k][j]);</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &n, &a, &b);</span><br><span class=line>    <span class=built_in>memset</span>(g, <span class=number>0x3f</span>, <span class=keyword>sizeof</span> g);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < n; ++i)</span><br><span class=line>        g[i][i] = <span class=number>0</span>;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>, k, v; i <= n; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d"</span>, &k);</span><br><span class=line>        <span class=type>int</span> c = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>while</span> (k--)</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d"</span>, &v), g[i][v] = c, c = <span class=number>1</span>;</span><br><span class=line>    }</span><br><span class=line>    <span class=built_in>floyd</span>();</span><br><span class=line>    <span class=built_in>printf</span>(<span class=string>"%d\n"</span>, g[a][b] == INF ? <span class=number>-1</span> : g[a][b]);</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure></div><div class=tab-pane id=poj-1847-2><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTalgorithm></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTqueue></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>101</span>, INF = <span class=number>0x3f3f3f3f</span>;</span><br><span class=line><span class=type>int</span> n, a, b, g[N][N], d[N];</span><br><span class=line><span class=type>bool</span> st[N];</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>bfs</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>memset</span>(d, <span class=number>0x3f</span>, <span class=keyword>sizeof</span> d);</span><br><span class=line>    <span class=built_in>memset</span>(st, <span class=number>0</span>, <span class=keyword>sizeof</span> st);</span><br><span class=line>    d[a] = <span class=number>0</span>;</span><br><span class=line>    deque<<span class=type>int</span>> q;</span><br><span class=line>    q.<span class=built_in>push_back</span>(a);</span><br><span class=line>    <span class=keyword>while</span> (q.<span class=built_in>size</span>())</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> u = q.<span class=built_in>front</span>();</span><br><span class=line>        q.<span class=built_in>pop_front</span>();</span><br><span class=line>        <span class=keyword>if</span> (st[u])</span><br><span class=line>            <span class=keyword>continue</span>;</span><br><span class=line>        st[u] = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> v = <span class=number>1</span>; v <= n; ++v)</span><br><span class=line>        {</span><br><span class=line>            <span class=keyword>if</span> (d[v] > d[u] + g[u][v])</span><br><span class=line>            {</span><br><span class=line>                d[v] = d[u] + g[u][v];</span><br><span class=line>                <span class=keyword>if</span> (g[u][v] == <span class=number>1</span>)</span><br><span class=line>                    q.<span class=built_in>push_back</span>(v);</span><br><span class=line>                <span class=keyword>else</span></span><br><span class=line>                    q.<span class=built_in>push_front</span>(v);</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &n, &a, &b);</span><br><span class=line>    <span class=built_in>memset</span>(g, <span class=number>0x3f</span>, <span class=keyword>sizeof</span> g);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < n; ++i)</span><br><span class=line>        g[i][i] = <span class=number>0</span>;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>, k, v; i <= n; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d"</span>, &k);</span><br><span class=line>        <span class=type>int</span> w = <span class=number>0</span>;</span><br><span class=line>        <span class=keyword>while</span> (k--)</span><br><span class=line>            <span class=built_in>scanf</span>(<span class=string>"%d"</span>, &v), g[i][v] = w, w = <span class=number>1</span>;</span><br><span class=line>    }</span><br><span class=line>    <span class=built_in>bfs</span>();</span><br><span class=line>    <span class=built_in>printf</span>(<span class=string>"%d\n"</span>, d[b] == INF ? <span class=number>-1</span> : d[b]);</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure></div></div></div><h3 id=LightOJ-1074-Extended-Traffic><a title="LightOJ-1074 Extended Traffic" class=headerlink href=#LightOJ-1074-Extended-Traffic></a>LightOJ-1074 Extended Traffic</h3><p>判负环，求最短路。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcmath></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>201</span>, M = N * N;</span><br><span class=line><span class=type>int</span> t, n, b[N], m, q;</span><br><span class=line><span class=type>int</span> e[M][<span class=number>2</span>], w[M], d[N];</span><br><span class=line><span class=type>bool</span> st[N], flag[N];</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>bellmanford</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>memset</span>(d, <span class=number>0</span>, <span class=keyword>sizeof</span> d);</span><br><span class=line>    <span class=built_in>memset</span>(flag, <span class=number>0</span>, <span class=keyword>sizeof</span> flag);</span><br><span class=line>    <span class=built_in>memset</span>(st, <span class=number>0</span>, <span class=keyword>sizeof</span> st);</span><br><span class=line>    st[<span class=number>1</span>] = <span class=number>1</span>;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> k = <span class=number>1</span>; k < n; ++k)</span><br><span class=line>    {</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < m; ++i)</span><br><span class=line>        {</span><br><span class=line>            <span class=type>int</span> u = e[i][<span class=number>0</span>], v = e[i][<span class=number>1</span>];</span><br><span class=line>            <span class=keyword>if</span> (st[u] && (!st[v] || d[v] > d[u] + w[i]))</span><br><span class=line>                st[v] = <span class=number>1</span>, d[v] = d[u] + w[i];</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < m; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> u = e[i][<span class=number>0</span>], v = e[i][<span class=number>1</span>];</span><br><span class=line>        <span class=keyword>if</span> (st[u] && (!st[v] || d[v] > d[u] + w[i]))</span><br><span class=line>            flag[v] = <span class=number>1</span>;</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    cin >> t;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> _ = <span class=number>1</span>; _ <= t; ++_)</span><br><span class=line>    {</span><br><span class=line>        cin >> n;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>            cin >> b[i];</span><br><span class=line>        cin >> m;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>, u, v; i < m; ++i)</span><br><span class=line>        {</span><br><span class=line>            cin >> u >> v;</span><br><span class=line>            e[i][<span class=number>0</span>] = u, e[i][<span class=number>1</span>] = v, w[i] = <span class=built_in>pow</span>(b[v] - b[u], <span class=number>3</span>);</span><br><span class=line>        }</span><br><span class=line>        <span class=built_in>bellmanford</span>();</span><br><span class=line>        cin >> q;</span><br><span class=line>        cout << <span class=string>"Case "</span> << _ << <span class=string>":"</span> << endl;</span><br><span class=line>        <span class=keyword>while</span> (q--)</span><br><span class=line>        {</span><br><span class=line>            cin >> m;</span><br><span class=line>            <span class=keyword>if</span> (flag[m] || d[m] < <span class=number>3</span>)</span><br><span class=line>                cout << <span class=string>"?"</span>;</span><br><span class=line>            <span class=keyword>else</span></span><br><span class=line>                cout << d[m];</span><br><span class=line>            cout << endl;</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=HDU-4725-The-Shortest-Path-in-Nya-Graph><a title="HDU-4725 The Shortest Path in Nya Graph" class=headerlink href=#HDU-4725-The-Shortest-Path-in-Nya-Graph></a>HDU-4725 The Shortest Path in Nya Graph</h3><p>这一题考验建图。层与层连接，层与层内的点连接。建模：<ol><li>可以虚拟出层点 <mjx-container class=MathJax jax=SVG><svg style="vertical-align: -0.186ex;" viewbox="0 -666 4927.8 748" focusable=false height=1.692ex role=img width=11.149ex xmlns=http://www.w3.org/2000/svg><g fill=currentColor stroke=currentColor stroke-width=0 transform=scale(1,-1)><g data-mml-node=math><g data-mml-node=mi><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" data-c=1D45B></path></g><g data-mml-node=mo transform=translate(822.2,0)><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" data-c=2B></path></g><g data-mml-node=mn transform=translate(1822.4,0)><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" data-c=31></path></g><g data-mml-node=mo transform=translate(2489.1,0)><path d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60ZM525 60Q525 84 542 102T585 120Q609 120 627 104T646 61Q646 36 629 18T586 0T543 17T525 60ZM972 60Q972 84 989 102T1032 120Q1056 120 1074 104T1093 61Q1093 36 1076 18T1033 0T990 17T972 60Z" data-c=2026></path></g><g data-mml-node=mn transform=translate(3827.8,0)><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" data-c=32></path></g><g data-mml-node=mi transform=translate(4327.8,0)><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" data-c=1D45B></path></g></g></g></svg></mjx-container>，<li>每一层和它的上一层以及下一层连接，代价为 <code>0</code>，这样就等于层层相连，<li>对于层内的点，建立层点到层内点的单向连接，代价为 <code>c</code>。（如果是双向连接，将导致原本不连通的点，如层内的两点，连通。）</ol><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTiostream></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTqueue></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>200002</span>, M = <span class=number>4</span> * N, INF = <span class=number>0x3f3f3f3f</span>;</span><br><span class=line><span class=type>int</span> t, n, m, c, l[N];</span><br><span class=line><span class=type>int</span> h[N], e[M], w[M], ne[M], idx, d[N];</span><br><span class=line><span class=type>bool</span> st[N];</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>add</span><span class=params>(<span class=type>int</span> u, <span class=type>int</span> v, <span class=type>int</span> ww)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    e[idx] = v, w[idx] = ww, ne[idx] = h[u], h[u] = idx++;</span><br><span class=line>}</span><br><span class=line><span class=keyword>struct</span> <span class="title class_">node</span></span><br><span class=line>{</span><br><span class=line>    <span class=type>int</span> w, u;</span><br><span class=line>    <span class=type>bool</span> <span class=keyword>operator</span>>(<span class=type>const</span> node &a) <span class=type>const</span> { <span class=keyword>return</span> w > a.w; }</span><br><span class=line>};</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>dijkstra</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>memset</span>(st, <span class=number>0</span>, <span class=keyword>sizeof</span> st);</span><br><span class=line>    <span class=built_in>memset</span>(d, <span class=number>0x3f</span>, <span class=keyword>sizeof</span> d);</span><br><span class=line>    d[<span class=number>1</span>] = <span class=number>0</span>;</span><br><span class=line>    priority_queue&LTnode, vector&LTnode>, greater&LTnode>> q;</span><br><span class=line>    q.<span class=built_in>push</span>({<span class=number>0</span>, <span class=number>1</span>});</span><br><span class=line>    <span class=keyword>while</span> (!q.<span class=built_in>empty</span>())</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> u = q.<span class=built_in>top</span>().u;</span><br><span class=line>        q.<span class=built_in>pop</span>();</span><br><span class=line>        <span class=keyword>if</span> (st[u])</span><br><span class=line>            <span class=keyword>continue</span>;</span><br><span class=line>        st[u] = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>if</span> (u == n)</span><br><span class=line>            <span class=keyword>return</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = h[u]; ~i; i = ne[i])</span><br><span class=line>        {</span><br><span class=line>            <span class=type>int</span> v = e[i];</span><br><span class=line>            <span class=keyword>if</span> (d[v] > d[u] + w[i])</span><br><span class=line>                q.<span class=built_in>push</span>({d[v] = d[u] + w[i], v});</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    ios::<span class=built_in>sync_with_stdio</span>(<span class=literal>false</span>);</span><br><span class=line>    cin.<span class=built_in>tie</span>(<span class=literal>NULL</span>);</span><br><span class=line>    cout.<span class=built_in>tie</span>(<span class=literal>NULL</span>);</span><br><span class=line>    cin >> t;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> _ = <span class=number>1</span>; _ <= t; ++_)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>memset</span>(h, <span class=number>-1</span>, <span class=keyword>sizeof</span> h);</span><br><span class=line>        idx = <span class=number>0</span>;</span><br><span class=line>        cin >> n >> m >> c;</span><br><span class=line>        <span class=built_in>memset</span>(st, <span class=number>0</span>, <span class=keyword>sizeof</span> st);</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>        {</span><br><span class=line>            cin >> l[i];</span><br><span class=line>            <span class=built_in>add</span>(l[i] + n, i, <span class=number>0</span>);</span><br><span class=line>            st[l[i]] = <span class=number>1</span>;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>        {</span><br><span class=line>            <span class=keyword>if</span> (l[i] >= <span class=number>2</span> && st[l[i] - <span class=number>1</span>])</span><br><span class=line>                <span class=built_in>add</span>(i, l[i] - <span class=number>1</span> + n, c);</span><br><span class=line>            <span class=keyword>if</span> (l[i] < n && st[l[i] + <span class=number>1</span>])</span><br><span class=line>                <span class=built_in>add</span>(i, l[i] + <span class=number>1</span> + n, c);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>, a, b, c; i <= m; ++i)</span><br><span class=line>        {</span><br><span class=line>            cin >> a >> b >> c;</span><br><span class=line>            <span class=built_in>add</span>(a, b, c), <span class=built_in>add</span>(b, a, c);</span><br><span class=line>        }</span><br><span class=line>        <span class=built_in>dijkstra</span>();</span><br><span class=line>        cout << <span class=string>"Case #"</span> << _ << <span class=string>": "</span> << (d[n] != INF ? d[n] : <span class=number>-1</span>) << endl;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h3 id=HDU-3416-Marriage-Match-IV><a title="HDU-3416 Marriage Match IV" class=headerlink href=#HDU-3416-Marriage-Match-IV></a>HDU-3416 Marriage Match IV</h3><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=comment>// TODO</span></span><br></pre></table></figure><h3 id=HDU-4370-0-or-1><a title="HDU-4370 0 or 1" class=headerlink href=#HDU-4370-0-or-1></a>HDU-4370 0 or 1</h3><figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=comment>// TODO</span></span><br></pre></table></figure><h3 id=POJ-3169-Layout><a title="POJ-3169 Layout" class=headerlink href=#POJ-3169-Layout></a>POJ-3169 Layout</h3><p>差分约束，判环，求最短路。<figure class="highlight cpp"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br></pre><td class=code><pre><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstdio></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTcstring></span></span></span><br><span class=line><span class=meta>#<span class=keyword>include</span> <span class=string>&LTalgorithm></span></span></span><br><span class=line><span class=keyword>using</span> <span class=keyword>namespace</span> std;</span><br><span class=line><span class=type>const</span> <span class=type>int</span> N = <span class=number>1001</span>, M = <span class=number>22000</span>;</span><br><span class=line><span class=type>int</span> n, ml, md;</span><br><span class=line><span class=type>int</span> e[M][<span class=number>2</span>], w[M], idx, d[N];</span><br><span class=line><span class=function><span class=type>void</span> <span class=title>add</span><span class=params>(<span class=type>int</span> u, <span class=type>int</span> v, <span class=type>int</span> ww)</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    e[idx][<span class=number>0</span>] = u, e[idx][<span class=number>1</span>] = v, w[idx] = ww, idx++;</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>bool</span> <span class=title>bellmanford</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>memset</span>(d, <span class=number>0x3f</span>, <span class=keyword>sizeof</span> d);</span><br><span class=line>    d[<span class=number>1</span>] = <span class=number>0</span>;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i <= n; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=type>int</span> flag = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> j = <span class=number>0</span>; j < idx; ++j)</span><br><span class=line>        {</span><br><span class=line>            <span class=type>int</span> u = e[j][<span class=number>0</span>], v = e[j][<span class=number>1</span>];</span><br><span class=line>            <span class=keyword>if</span> (d[v] > d[u] + w[j])</span><br><span class=line>            {</span><br><span class=line>                d[v] = d[u] + w[j];</span><br><span class=line>                flag = <span class=number>0</span>;</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>if</span> (flag)</span><br><span class=line>            <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> <span class=number>1</span>;</span><br><span class=line>}</span><br><span class=line><span class=function><span class=type>int</span> <span class=title>main</span><span class=params>()</span></span></span><br><span class=line><span class=function></span>{</span><br><span class=line>    <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &n, &ml, &md);</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>, a, b, d; i < ml; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &a, &b, &d);</span><br><span class=line>        <span class=keyword>if</span> (a > b)</span><br><span class=line>            <span class=built_in>swap</span>(a, b);</span><br><span class=line>        <span class=built_in>add</span>(a, b, d);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>, a, b, d; i < md; ++i)</span><br><span class=line>    {</span><br><span class=line>        <span class=built_in>scanf</span>(<span class=string>"%d%d%d"</span>, &a, &b, &d);</span><br><span class=line>        <span class=keyword>if</span> (a > b)</span><br><span class=line>            <span class=built_in>swap</span>(a, b);</span><br><span class=line>        <span class=built_in>add</span>(b, a, -d);</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>1</span>; i < n; ++i)</span><br><span class=line>        <span class=built_in>add</span>(i + <span class=number>1</span>, i, <span class=number>0</span>), <span class=built_in>add</span>(<span class=number>0</span>, i, <span class=number>0</span>);</span><br><span class=line>    <span class=built_in>add</span>(<span class=number>0</span>, n, <span class=number>0</span>);</span><br><span class=line>    <span class=built_in>printf</span>(<span class=string>"%d\n"</span>, <span class=built_in>bellmanford</span>() ? <span class=number>-1</span> : (d[n] == <span class=number>0x3f3f3f3f</span> ? <span class=number>-2</span> : d[n]));</span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure></div><footer class=post-footer><div class=post-tags><a href=/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/ rel=tag># 最短路</a><a href=/tags/kuangbin/ rel=tag># kuangbin</a></div><div class=post-nav><div class=post-nav-item><a title="kuangbin 专题三 Dancing Links" href=/kuangbin/kuangbin-%E4%B8%93%E9%A2%98%E4%B8%89-dancing-links/ rel=prev> <i class="fa fa-angle-left"></i> kuangbin 专题三 Dancing Links </a></div><div class=post-nav-item><a title="kuangbin 专题五 并查集" href=/kuangbin/kuangbin-%E4%B8%93%E9%A2%98%E4%BA%94-%E5%B9%B6%E6%9F%A5%E9%9B%86/ rel=next> kuangbin 专题五 并查集 <i class="fa fa-angle-right"></i> </a></div></div></footer></article></div><div class="comments giscus-container"></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>© <span itemprop=copyrightYear>2023</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>Shawn</span></div><div class=powered-by>Powered by <a href=https://hexo.io/ rel=noopener target=_blank>Hexo</a> & <a href=https://theme-next.js.org/mist/ rel=noopener target=_blank>NexT.Mist</a></div></div></footer><link href=https://code.bdstatic.com/npm/aplayer@1.10.1/dist/APlayer.min.css rel=stylesheet><script src=https://code.bdstatic.com/npm/aplayer@1.10.1/dist/APlayer.min.js></script><script src=https://code.bdstatic.com/npm/meting@2.0.1/dist/Meting.min.js></script><div><meting-js autoplay=false fixed=true id=4879931134 list-folded=ture list-max-height=500px loop=all lrc-type=1 order=random preload=auto server=netease type=playlist> </meting-js></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><div class=sidebar-dimmer></div><div aria-label="Back to top" class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><script crossorigin integrity=sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY= src=https://fastly.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js></script><script crossorigin integrity=sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao= src=https://fastly.jsdelivr.net/npm/@next-theme/pjax@0.6.0/pjax.min.js></script><script src=/js/comments.js></script><script src=/js/utils.js></script><script src=/js/motion.js></script><script src=/js/schemes/muse.js></script><script src=/js/next-boot.js></script><script src=/js/pjax.js></script><script crossorigin integrity=sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc= src=https://fastly.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js></script><script src=/js/third-party/search/local-search.js></script><script class=next-config data-name=giscus type=application/json>{"enable":true,"repo":"PeiChengLiu/blog-comment","repo_id":"R_kgDOKOue5g","category":"General","category_id":"DIC_kwDOKOue5s4CZDD1","mapping":"title","reactions_enabled":1,"emit_metadata":1,"theme":"light","lang":"en","crossorigin":"anonymous","input_position":"top","loading":"lazy"}</script><script>document.addEventListener('page:loaded', () => {
  if (!CONFIG.page.comments) return;

  NexT.utils.loadComments('.giscus-container')
    .then(() => NexT.utils.getScript('https://giscus.app/client.js', {
      attributes: {
        async                   : true,
        crossOrigin             : 'anonymous',
        'data-repo'             : CONFIG.giscus.repo,
        'data-repo-id'          : CONFIG.giscus.repo_id,
        'data-category'         : CONFIG.giscus.category,
        'data-category-id'      : CONFIG.giscus.category_id,
        'data-mapping'          : CONFIG.giscus.mapping,
        'data-reactions-enabled': CONFIG.giscus.reactions_enabled,
        'data-emit-metadata'    : CONFIG.giscus.emit_metadata,
        'data-theme'            : CONFIG.giscus.theme,
        'data-lang'             : CONFIG.giscus.lang,
        'data-input-position'   : CONFIG.giscus.input_position,
        'data-loading'          : CONFIG.giscus.loading
      },
      parentNode: document.querySelector('.giscus-container')
    }));
});</script>